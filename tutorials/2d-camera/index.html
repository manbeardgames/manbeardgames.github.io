
<!doctype html>
<html>

<head>
    


<!-- BEGIN: source/partials/_head.ejs -->
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Manbeardgames">

<!-- SEO Title -->
<meta name="title" content="ManBeardGames 2D Camera">
<!-- SEO Description -->
<meta name="description" contnet="">

<!-- Open Graph Type -->
<meta property="og:type" content="website">
<!-- Open Graph Title -->
<meta property="og:title" content="2D Camera">
<!-- Opeh Graph Image -->
<meta property="og:image" content="https://manbeardgames.com/img/tutorials/2d-camera/tutorial-cover.png">
<!-- Opeh Graph Site Name -->
<meta property="og:site_name" content="ManBeardGames">
<!-- Open Graph Description -->
<meta property="og:description" content="How to create and implement a simple 2D camera for use in your projects">

<!-- Favicon -->
<link rel="shortcut icon" type="image/png" href="/favicon.png"/>


<title>2D Camera</title>

<!-- Bootstrap 4.0 CSS -->
<link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.css">

<!-- Material Design Icons CSS -->
<link rel="stylesheet" href="/vendor/mdi/css/materialdesignicons.css">

<!-- Site CSS -->
<link rel="stylesheet" href="/css/site.css">

<!-- jQuery JS -->
<script type="text/javascript" src="/vendor/jquery/js/jquery.js"></script>

<!-- PrismJS Style Theme CSS -->
<link rel="stylesheet" href="/vendor/prismjs/css/prism-tomorrow.css">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-63802407-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-63802407-1');
</script>

<!-- END: source/partials/_head.ejs -->

</head>

<body>
    <div id="flex-wrap">
        <header>
            

<nav class="navbar navbar-expand-lg fixed-top" id="topNav">
    <!-- Navbar brand background image is supplied by the CSS style -->
    <a class="navbar-brand" href="/"></a>
    <!-- <button class="navbar-toggler mr-auto" type="button" data-toggle="collapse" data-target="#sidenav" aria-controls="sidenav"
        aria-expanded="false" aria-label="Toggle sidebar">
        <span class="navbar-toggler-icon"></span>
    </button>     -->
    <h3 class="text-white"></h3>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" href="/#games">Games</a></li>
            <li class="nav-item"><a class="nav-link" href="/tutorials">Tutorials</a></li>
            <li class="nav-item"><a class="nav-link" href="/dev-blog">Dev Blog</a></li>
        </ul>
    </div>
</nav>


        </header>
        <main>
            <div class="container post">


            <h1 id=overview>Overview</h1><hr>
<p>A camera can be an essential part of your game when you need to create game worlds that expand beyond the scope of the game windows width and height.  The concept of a camera can seem overwhelming at first, but here we&#39;ll layout the groundwork as simple as possible in a way that you can expand on to suite your game project&#39;s needs.</p>
<p>Creating a camera will require the use of vectors math and matrices math to create a Transformation Matrix.  It is beyond the scope of these tutorials to explain the math behind it. If you would like to further research this topic, the article <a target="_blank" href="http://www.alanzucconi.com/2016/02/10/tranfsormation-matrix/#part1">The Transform Matrix For 2D Games</a> is a good starting place.  </p>

            <h1 id=project-files>Project Files</h1><hr>
<p>If you would like to follow along with this tutorial using the same files and assets I use, you can find them <a target="_blank" href="https://github.com/manbeardgames/manbeardgames-site-tutorials/tree/master/tutorials/2d-camera">here on github</a>.</p>

            <h2 id=create-the-camera-class>Create the Camera Class</h2><hr>
<p>If you are unfamiliar with the concept of a camera in game development, it is gives us something called a Transformation Matrix, which we can then apply to our rendering.  This transformation matrix contains the information to translate, rotate, and scale what we tell to render so that it looks as if we&#39;re viewing the game from the perspective of the camera. </p>
<p>
            <div class="text-center">
            <img class="img-fluid border border-dark" src="\img/tutorials/2d-camera/tutorial-cover.png" alt="null" />
            </div></p>
<p>To get started, create a new class for your camera, I&#39;ll call mine <code>Camera2D</code>.  Add the following:</p>

            <pre class="language-csharp"><code class = "language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Camera2D</span>
<span class="token punctuation">{</span>
    <span class="token comment">//  The transformation matrix of the camera</span>
    <span class="token keyword">private</span> <span class="token class-name">Matrix</span> _transformationMatrix <span class="token operator">=</span> Matrix<span class="token punctuation">.</span>Identity<span class="token punctuation">;</span>

    <span class="token comment">//  The inverse of the transformation matrix</span>
    <span class="token keyword">private</span> <span class="token class-name">Matrix</span> _inverseMatrix <span class="token operator">=</span> Matrix<span class="token punctuation">.</span>Identity<span class="token punctuation">;</span>

    <span class="token comment">//  The xy-coordinate top-left position of the camera</span>
    <span class="token keyword">private</span> <span class="token class-name">Vector2</span> _position <span class="token operator">=</span> Vector2<span class="token punctuation">.</span>Zero<span class="token punctuation">;</span>

    <span class="token comment">//  The rotation of the camera along the Z axis</span>
    <span class="token keyword">private</span> <span class="token keyword">float</span> _rotation <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">//  The x and y zoom level of the camera</span>
    <span class="token keyword">private</span> <span class="token class-name">Vector2</span> _zoom <span class="token operator">=</span> Vector2<span class="token punctuation">.</span>One<span class="token punctuation">;</span>

    <span class="token comment">//  The xy-coordinate origin point of the camera</span>
    <span class="token keyword">private</span> <span class="token class-name">Vector2</span> _origin <span class="token operator">=</span> Vector2<span class="token punctuation">.</span>Zero<span class="token punctuation">;</span>

    <span class="token comment">//  Has the position, angle, origin, or zoom of the camera changed</span>
    <span class="token keyword">private</span> <span class="token keyword">bool</span> _hasChanged<span class="token punctuation">;</span>

    <span class="token comment">//  The Viewport reference for the camera</span>
    <span class="token keyword">public</span> <span class="token class-name">Viewport</span> Viewport<span class="token punctuation">;</span>

    <span class="token comment">/// &lt;summary></span>
    <span class="token comment">///     Creates a new 2D camera instance</span>
    <span class="token comment">/// &lt;/summary></span>
    <span class="token comment">/// &lt;param name="viewPort">The Viewport reference for the camera&lt;/param></span>
    <span class="token keyword">public</span> <span class="token function">Camera2D</span><span class="token punctuation">(</span><span class="token class-name">Viewport</span> viewPort<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Viewport <span class="token operator">=</span> viewPort<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// &lt;summary></span>
    <span class="token comment">///     Creates a new 2D camera instance</span>
    <span class="token comment">/// &lt;/summary></span>
    <span class="token comment">/// &lt;param name="width">The width of the viewport&lt;/param></span>
    <span class="token comment">/// &lt;param name="height">The height of the viewport&lt;/param></span>
    <span class="token keyword">public</span> <span class="token function">Camera2D</span><span class="token punctuation">(</span><span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Viewport <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Viewport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Viewport<span class="token punctuation">.</span>Width <span class="token operator">=</span> width<span class="token punctuation">;</span>
        Viewport<span class="token punctuation">.</span>Height <span class="token operator">=</span> height<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre><p>Below is an explanation the fields we&#39;ve added above to further clarify their purpose for our camera.  </p>

            <table class="table"><thead class="thead-dark"><tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody><tr>
<td><code>_transformationMatrix</code></td>
<td>Matrix</td>
<td>This is the matrix that we will calculate in a minute that includes our translation, rotation, and scale information.  This will be used by the <code>SpriteBatch</code> when we perform our rendering.</td>
</tr>
<tr>
<td><code>_inverseMatrix</code></td>
<td>Matrix</td>
<td>This is the inverse of our transformation matrix.</td>
</tr>
<tr>
<td><code>_position</code></td>
<td>Vector2</td>
<td>This is the xy-coordinate position of our camera relative to the top-left of the camera&#39;s view. In terms of our transformation matrix, this is the <strong>translation</strong>/</td>
</tr>
<tr>
<td><code>_rotation</code></td>
<td>float</td>
<td>This is the angle of rotation for our camera.  In terms of our transformation matrix, this is the <strong>rotation</strong>.</td>
</tr>
<tr>
<td><code>_zoom</code></td>
<td>Vector2</td>
<td>This is the zoom level of the camera.  In terms of our transformation matrix, this is the <strong>scale</strong>.</td>
</tr>
<tr>
<td><code>_origin</code></td>
<td>Vector2</td>
<td>This is the origin point of our camera. By default, it is Vector2.Zero, which means our camera&#39;s origin is the top-left.</td>
</tr>
<tr>
<td><code>_hasChanged</code></td>
<td>bool</td>
<td>This is a boolean value we&#39;ll set to true anytime either the position, rotation, or scale of the camera has changed, signifying that we need to update our transformation matrix.</td>
</tr>
<tr>
<td><code>ViewPort</code></td>
<td>ViewPort</td>
<td>This is the Viewport reference for our camera.</td>
</tr>
</tbody></table><p>After the fields are declared, two constructors are introduced.  The first constructor allows us to pass in a reference to an existing <code>ViewPort</code>.  This is useful because it allows us to use the Viewport from our Game1 class provided by default by MonoGame.  The second constructor allows use to supply a width and height, which will create a viewport reference for use base on these dimensions.</p>

            <h2 id=updating-the-matrices>Updating the Matrices</h2><hr>
<p>To keep our transformation matrix and inverse matrix updated, we&#39;ll create a method called <code>UpdateMatrices</code>.  Calculating a new transformation matrix is done through the multiplication of a translation matrix of our <code>_position</code>, a rotation matrix of our <code>_rotation</code>, a scale matrix of our <code>_zoom</code>, and an additional translation matrix of our <code>_origin</code>.  Once we have each of these individual matrices, we can multiply them all together to get our final <code>_transformationMatrix</code>.  Then to get the value of our <code>_inverseMatrix</code>, we just inverse the transformation matrix.</p>
<p>Add the following method to our Camera2D class</p>

            <pre class="language-csharp"><code class = "language-csharp"><span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Updates the values for our transformation matrix and </span>
<span class="token comment">///     the inverse matrix.  </span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">UpdateMatrices</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    <span class="token comment">//  Create a translation matrix based on the position of the camera</span>
    <span class="token keyword">var</span> positionTranslationMatrix <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        X <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">Floor</span><span class="token punctuation">(</span>_position<span class="token punctuation">.</span>X<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Y <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">Floor</span><span class="token punctuation">(</span>_position<span class="token punctuation">.</span>Y<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Z <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//  Create a rotation matrix around the Z axis</span>
    <span class="token keyword">var</span> rotationMatrix <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">CreateRotationZ</span><span class="token punctuation">(</span>_rotation<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//  Create a scale matrix based on the zoom</span>
    <span class="token keyword">var</span> scaleMatrix <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        X <span class="token operator">=</span> _zoom<span class="token punctuation">.</span>X<span class="token punctuation">,</span>
        Y <span class="token operator">=</span> _zoom<span class="token punctuation">.</span>Y<span class="token punctuation">,</span>
        Z <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//  Create a translation matrix based on the origin position of the camera</span>
    <span class="token keyword">var</span> originTranslationMatrix <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        X <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">Floor</span><span class="token punctuation">(</span>_origin<span class="token punctuation">.</span>X<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>Math<span class="token punctuation">.</span><span class="token function">Floor</span><span class="token punctuation">(</span>_origin<span class="token punctuation">.</span>Y<span class="token punctuation">)</span><span class="token punctuation">,</span>
        Z <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//  Perform matrix multiplication of all of the above to create our</span>
    <span class="token comment">//  transformation matrix</span>
    _transformationMatrix <span class="token operator">=</span> positionTranslationMatrix <span class="token operator">*</span> rotationMatrix <span class="token operator">*</span> scaleMatrix <span class="token operator">*</span> originTranslationMatrix<span class="token punctuation">;</span>

    <span class="token comment">//  Get our inverse matrix of the transformation matrix</span>
    _inverseMatrix <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">Invert</span><span class="token punctuation">(</span>_transformationMatrix<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//  Since the matrices have now been updated, set that there is no longer a change</span>
    _hasChanged <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></code></pre><p>And that&#39;s it for the hard stuff.  This will keep the transformation and inverse matrix values updated whenever there is a change to the position, rotation, or scale.  Next, we&#39;ll create the public properties that can be used to retrieve the values needed from the camera to use within the game.</p>

            <h2 id=adding-camera-properties>Adding Camera Properties</h2><hr>
<p>The first two properties that we are going to add are for the TransformationMatrix and the InverseMatrix.  Add the following to the Camera2D class.</p>

            <pre class="language-csharp"><code class = "language-csharp"><span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets the cameras transformation matrix</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token class-name">Matrix</span> TransformationMatrix
<span class="token punctuation">{</span>
    <span class="token keyword">get</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If a change is detected, update matrices before</span>
        <span class="token comment">//  returning value</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>_hasChanged<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">UpdateMatrices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> _transformationMatrix<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets the inverse of the camera's transformation matrix</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token class-name">Matrix</span> InverseMatrix
<span class="token punctuation">{</span>
    <span class="token keyword">get</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If a change is detected, update matrices before</span>
        <span class="token comment">//  returning value</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_hasChanged<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">UpdateMatrices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> _inverseMatrix<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>Both of these just return their respective backing fields, however, before returning, they check if the <code>_hasChanged</code> boolean is true.  If it is, a call to update our matrices is performed first before returning the values. Next we&#39;ll add a few additional properties that will allow the adjustment of the camera&#39;s position, rotation, scale, and origin.  Add the following to the Camera2D class:</p>

            <pre class="language-csharp"><code class = "language-csharp"><span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets or Sets the xy-coordinate position of the camera relative</span>
<span class="token comment">///     to the world space of the game</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token class-name">Vector2</span> Position
<span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _position<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">set</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If the value hasn't actually changed, just return back</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_position <span class="token operator">==</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">//  Set the position value</span>
        _position <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>

        <span class="token comment">//  Flag that a change has been made</span>
        _hasChanged <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets or Sets the rotation angle of the camera</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token keyword">float</span> Rotation
<span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _rotation<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">set</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If the value hasn't actually changed, just return back</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_rotation <span class="token operator">==</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">//  Set the rotation value</span>
        _rotation <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>

        <span class="token comment">//  Flag that a change has been made</span>
        _hasChanged <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets or Sets the zoom level of the camera</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token class-name">Vector2</span> Zoom
<span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _zoom<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">set</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If the value hasn't actually changed, just return back</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_zoom <span class="token operator">==</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">//  Set the zoom value</span>
        _zoom <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>

        <span class="token comment">//  Flag that a change has been made</span>
        _hasChanged <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets or Sets the origin point of the camera relative to the</span>
<span class="token comment">///     ViewPort</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token class-name">Vector2</span> Origin
<span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _origin<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">set</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If the value hasn't actually changed, just return back</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_origin <span class="token operator">==</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">//  Set the origin value</span>
        _origin <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>

        <span class="token comment">//  Flag that a change has been made</span>
        _hasChanged <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets or Sets the camera's x-coordinate position relative to the world</span>
<span class="token comment">///     space of the game</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token keyword">float</span> X
<span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _position<span class="token punctuation">.</span>X<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">set</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If the value hasn't actually changed, just return back</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_position<span class="token punctuation">.</span>X <span class="token operator">==</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">//  Set the position x value</span>
        _position<span class="token punctuation">.</span>X <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>

        <span class="token comment">//  Flag that a change has been made</span>
        _hasChanged <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Gets or Sets the camera's y-coordinate position relative to the world</span>
<span class="token comment">///     space of the game</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token keyword">float</span> Y
<span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _position<span class="token punctuation">.</span>Y<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">set</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//  If the value hasn't actually changed, just return back</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_position<span class="token punctuation">.</span>Y <span class="token operator">==</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token comment">//  Set the position y value</span>
        _position<span class="token punctuation">.</span>Y <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">;</span>

        <span class="token comment">//  Flag that a change has been made</span>
        _hasChanged <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>The getter for each of these properties return back their respective backing field values.  In each of the setters, first a check to see if the value has actually changed is performed.  If it is actually a new value, the value is set to the respective backing field, and the <code>_hasChanged</code> boolean is set to true, indicating that a change has been made.  The last two properties <code>X</code> and <code>Y</code> are mostly there for utility so we can set them individually instead of having to supply a full Vector2 each time to <code>Position</code>.  </p>
<p>That&#39;s it for our properties.  </p>

            <h2 id=screen-space-to-camera-space-methods>Screen Space to Camera Space Methods</h2><hr>
<p>By introducing a camera into our game, we&#39;ve also created two separate coordinate spaces.  </p>

            <table class="table"><thead class="thead-dark"><tr>
<th>System</th>
<th>Definition</th>
</tr>
</thead><tbody><tr>
<td><strong>World Space</strong></td>
<td>The World Space coordinate system defines the xy-coordinate location of the entities within our game&#39;s world.</td>
</tr>
<tr>
<td><strong>Screen Space</strong></td>
<td>The screen space coordinate system defines the xy-coordinate location relative to the game&#39;s window, with the top-left of the game window being xy-positiong {0, 0}.  This is the coordinate system things outside of our game, such as the players mouse, exist in.</td>
</tr>
</tbody></table><p>To further expand on this concept, take a look at the following image:</p>
<p>
            <div class="text-center">
            <img class="img-fluid border border-dark" src="\img/tutorials/2d-camera/world-to-screen-space.png" alt="null" />
            </div></p>
<p>On the left is our game world.  The game world is 2000px wide by 2000px tall.  In this game world, our player is located at world space xy-position {1000, 900}.  On the right is our game screen that is being rendered.  The game screen is only 1280px wide by 720px tall.  We have the mouse at screen space xy-position {1000, 650}.</p>
<p>We need something that is going to translate between these two coordinate systems. Thankfully, it&#39;s actually not too difficult.  In our Camera2D class, add the following two methods</p>

            <pre class="language-csharp"><code class = "language-csharp"><span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Translate the given screen space xy-coordinate position</span>
<span class="token comment">///     to the equivalent world space xy-coordinate position</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token comment">/// &lt;param name="position">The xy-coordinate position in screen space to translate&lt;/param></span>
<span class="token comment">/// &lt;returns></span>
<span class="token comment">///     The xy-coodinate position in world space</span>
<span class="token comment">/// &lt;/returns></span>
<span class="token keyword">public</span> <span class="token class-name">Vector2</span> <span class="token function">ScreenToWorld</span><span class="token punctuation">(</span><span class="token class-name">Vector2</span> position<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> Vector2<span class="token punctuation">.</span><span class="token function">Transform</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> InverseMatrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;summary></span>
<span class="token comment">///     Translates the given world space xy-coordinate position</span>
<span class="token comment">///     to the equivalent screen space xy-coordinate position</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token comment">/// &lt;param name="position">The xy-coordinate position in world space to translate&lt;/param></span>
<span class="token comment">/// &lt;returns></span>
<span class="token comment">///     The xy-coordinate position in screen space</span>
<span class="token comment">/// &lt;/returns></span>
<span class="token keyword">public</span> <span class="token class-name">Vector2</span> <span class="token function">WorldToScreen</span><span class="token punctuation">(</span><span class="token class-name">Vector2</span> position<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> Vector2<span class="token punctuation">.</span><span class="token function">Transform</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> TransformationMatrix<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>With these two methods, we can translate between the two coordinate systems.  </p>

            <h2 id=using-the-camera>Using the Camera</h2><hr>
<p>To use our camera in our game, first we need to create a new instance of the camera.  in our Game1 class and the following field and initialize it within the constructor.</p>

            <pre class="language-csharp"><code class = "language-csharp"><span class="token comment">//  Our camera</span>
<span class="token class-name">Camera2D</span> _camera<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token function">Game1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    graphics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphicsDeviceManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Content<span class="token punctuation">.</span>RootDirectory <span class="token operator">=</span> <span class="token string">"Content"</span><span class="token punctuation">;</span>


    <span class="token comment">//  Create our camera with 1280 with and 720 height</span>
    _camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Camera2D</span><span class="token punctuation">(</span><span class="token number">1280</span><span class="token punctuation">,</span> <span class="token number">720</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="card text-white bg-dark mb-3">
    <div class="card-header">
        <span class="lead">Note</span>
    </div>
    <div class="card-body">
        <p>
            If you would like to instead create the camera using the <code>GraphicsDevice.ViewPort</code> from within Game1, you can do this, but you'll need to create the camera instead in the <code>Initialize()</code> method.  This is because you need the <code>GraphicsDevice</code> property to be set, which it will not be until Initialize is called.
        </p>
    </div>
</div>


<p>Now, in our <code>Draw()</code> method, we need to pass the transformation matrix from the camera into the spritebatch when we call <code>sprtiebatch.Begin()</code> like so</p>

            <pre class="language-csharp"><code class = "language-csharp">spriteBatch<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span>transformMatrix<span class="token punctuation">:</span> _camera<span class="token punctuation">.</span>TransformationMatrix<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//  Draw things here</span>

spriteBatch<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>And that&#39;s it.  You now have a 2D camera that you can use in you game projects.  Don&#39;t stop here though, get creative. Think of some other things to add to your camera, like a way to smoothly move it from one position to another, or a way to &quot;shake&quot; it to give that sweet sweet screen shake effect. If you have some interesting things you added, let me know on <a target="_blank" href="http://www.twitter.com/manbeardgames">Twitter</a> and I&#39;ll add them here (with your permission of course). </p>
<p>And be sure to check out the project files for this tutorial on <a target="_blank" href="https://github.com/manbeardgames/manbeardgames-site-tutorials/tree/master/tutorials/2d-camera">Github</a> for to see a completed example of using the camera and moving it around with the keyboard.</p>
</div>
        </main>

        <footer>
            

<div class="container-fluid">
  <div class="row">
    <div class="col-md-4 d-flex flex-column text-center justify-content-center">
      <h4>ManBeardGames <span>&copy; 2019</span></h4>
    </div>

    <div class="col-md-4 d-flex flex-column text-center justify-content-center">
      <small>ManBeardGames logo created by <a href="https://www.twitch.tv/cookie042" target="_blank">cookie042</a></small>
    </div>

    <div class="col-md-4 social-icons justify-content-center text-center">
      <a href="https://www.twitter.com/manbeardgames" target="_blank">
        <i class="mdi mdi-36px mdi-twitter"></i>
      </a>
      <a href="https://www.gitlab.com/manbeardgames" target="_blank">
        <i class="mdi mdi-36px mdi-gitlab"></i>
      </a>
      <a href="https://store.steampowered.com/search/?publisher=ManBeardGames" target="_blank">
        <i class="mdi mdi-36px mdi-steam"></i>
      </a>
    </div>
  </div>
</div>
        </footer>

        

<!-- Bootstrap JS -->
<script type="text/javascript" src="/vendor/bootstrap/js/bootstrap.js"></script>

<!-- Popper JS -->
<script type="text/javascript" src="/vendor/popper.js/js/popper.js"></script>

<!-- Site JS -->
<script type="text/javascript" src="/js/site.js"></script>

<script>hljs.initHighlightingOnLoad();</script>
    </div>
</body>

</html>