<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-63802407-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-63802407-1",{})</script><title data-react-helmet="true">Scene Transitions | ManBeardGames</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Scene Transitions | ManBeardGames"><meta data-react-helmet="true" name="description" content="A tutorial on create scene transition effects in a MonoGame project."><meta data-react-helmet="true" property="og:description" content="A tutorial on create scene transition effects in a MonoGame project."><meta data-react-helmet="true" name="keywords" content="monogame tutorial,monogame framework,monogame,tutorial,scene transition,scene,scenes"><meta data-react-helmet="true" property="og:url" content="https://manbeardgames.com/docs/tutorials/scene-transitions"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://manbeardgames.com/docs/tutorials/scene-transitions"><link rel="stylesheet" href="/styles.50dc20de.css">
<link rel="stylesheet" href="/main.876691c5.css">
<link rel="preload" href="/styles.577f1152.js" as="script">
<link rel="preload" href="/runtime~main.179566da.js" as="script">
<link rel="preload" href="/main.b5047bcd.js" as="script">
<link rel="preload" href="/1.b02d9b13.js" as="script">
<link rel="preload" href="/46.a8e0b125.js" as="script">
<link rel="preload" href="/47.4c883408.js" as="script">
<link rel="preload" href="/f976f453.bf96ee48.js" as="script">
<link rel="preload" href="/45.09bf6d6b.js" as="script">
<link rel="preload" href="/cb69ef81.2cf57e78.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ManBeardGames</strong></a><a class="navbar__item navbar__link" href="/games/">Games</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/blog">Dev Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Twitter Profile"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ManBeardGames</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/games/">Games</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/tutorials/">Tutorials</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Dev Blog</a></li><li class="menu__list-item"><a href="https://github.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub Repository"></a></li><li class="menu__list-item"><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Twitter Profile"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Scene Transitions</h1></header><div class="markdown"><p>In the previous tutorial, we went throught the steps of adding a <code>Scene</code> class and implementing it int our <code>Game1</code> class. With this, we were able to change from one scene to another using the <code>ChangeScene(Scene)</code> method we created.  However, when we changed scenes, visually, it was less than impressive. One scene pops out and the new one pops in almost instantly.</p><p>In this tutorial, we&#x27;re going to fix that. We&#x27;re going to adjust what we did previous so that we can have different effects to transition our scenes out and in.  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="rendertarget-introduction"></a>RenderTarget Introduction<a class="hash-link" href="#rendertarget-introduction" title="Direct link to heading">#</a></h2><p>A <code>RenderTarget2D</code> is like a special kind of texture that we can draw things too.  So instaed of drawing our scene directly to the game window (aka backbuffer), we&#x27;re instead going to draw our scene to a render target.  By doing this, when we do our scene transitions, we can manipute the render target before we draw it the the screen to do the transition effects.</p><p>There are a few caveots to using render targets though that we need to be aware of, and, make sure that we handle them properly.</p><ol><li>A <code>RenderTarge2D</code> instance is a graphical resource object that we are creating manually. This means its life cycle is not managed by the <code>ContentManager</code> like a normal texture, and we&#x27;ll need to handle disposing of it properly when no longer needed.</li><li>The contents of the <code>RenderTarget2D</code> when we draw to it reside in VRAM.  Due to this, anytime a <code>GraphicsDevice.DeviceCreated</code> or <code>GraphicsDevice.DeviceReset</code> event occurs, all contents of VRAM are discarded and the <code>RenderTarget2D</code> instance will need to be recreated again.  (this isn&#x27;t as scary as it sounds).</li></ol><p>So, with these points in mind, let&#x27;s get started updating our scene demo.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="updateing-the-scene-class"></a>Updateing the Scene Class.<a class="hash-link" href="#updateing-the-scene-class" title="Direct link to heading">#</a></h2><p>The first thing we&#x27;re going to do is update our <code>Scene</code> class.  Each scene will need to have it&#x27;s own <code>RenderTarget2D</code> instance that it draws to.  Open the <strong>Scene.cs</strong> class file and let&#x27;s get started.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="rendertarget-property"></a>RenderTarget Property<a class="hash-link" href="#rendertarget-property" title="Direct link to heading">#</a></h3><p>The first thing we need to do is add new property to the <code>Scence</code> class to hold our render target instance. To do this, add the following property.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the RenderTarget this Scene draws to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public RenderTarget2D RenderTarget { get; protected set; }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This makes it so the render tager it publically accessible for any object that has a reference to our Scene instnace, but only derviced Scene types can set the value.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="generaterendertarget"></a>GenerateRenderTarget()<a class="hash-link" href="#generaterendertarget" title="Direct link to heading">#</a></h3><p>We need to add a new method to our <code>Scene</code> class that we can use to create the <code>RenderTarget2D</code> instance.  We could just do this in the constructor of our Scene class, but remember, we may need to recreate the render target if the graphics device resets.  So we&#x27;ll do it in a method we can call when needed.</p><p>Add the following method to the <code>Scene</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Genereates a RenderTarget2D instnace for our Scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void GenerateRenderTarget()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    int width = _game.GraphicsDevice.PresentationParameters.BackBufferWidth;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    int height = _game.GraphicsDevice.PresentationParameters.BackBufferHeight;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If the RenderTarget instance has already been created previously but has yet</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  to be disposed of properly, dispose of the instnace before setting a new one.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (RenderTarget != null &amp;&amp; !RenderTarget.IsDisposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    RenderTarget = new RenderTarget2D(_game.GraphicsDevice, width, height);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This method will check to see if there is already a render target and if so will dispose of it before creating a new one. Now that we have this method, we can update the constructor so that it genreates the render target when a scene is created.  Update the constructor as follows</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Creates a new Scene instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to our Game1 instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;exception cref=&quot;ArgumentNullException&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Thrown if the value supplied for &lt;paramref name=&quot;game&quot;/&gt; </span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     is null</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/exception&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public Scene(Game1 game)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (game == null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        throw new ArgumentNullException(nameof(game), &quot;Game cannot be null!&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game = game;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Generate the render target</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GenerateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handlegraphicsreset-and-handlegraphicscreated"></a>HandleGraphicsReset() and HandleGraphicsCreated()<a class="hash-link" href="#handlegraphicsreset-and-handlegraphicscreated" title="Direct link to heading">#</a></h3><p>As was pointed out previously, whenever the graphics device is created or reset, we have to regenerate our render target instance.  So we need a couple of methods within the scene class that can be called in this events.  </p><p>Add the following two methods to the <code>Scene</code> class.</p><p><strong>HandleGraphicsCreated()</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles creating the contents of VRAM for the scene when the GraphicsDevice</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     is created.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void HandleGraphicsCreated()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GenerateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><strong>HandleGraphicsReset()</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"> /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles recreating contents of VRAM for the scene when the GraphicsDevice</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     is reset.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void HandleGraphicsReset()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GenerateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="using-the-rendertarget"></a>Using the RenderTarget<a class="hash-link" href="#using-the-rendertarget" title="Direct link to heading">#</a></h3><p>Now that we have a render target for the scene that we can draw too, we need to tell the scene to actually draw to it insted of to the game window directly. We can do this by telling the <code>GraphicsDevice</code> to use the render target.  Find the <code>BeforeDraw(SpriteBatch)</code> method of our <code>Scene</code> class and change it to the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles preparing the Scene to draw.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     This is called just before the main Draw method.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;&lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void BeforeDraw(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Tell the graphics device to use this scene&#x27;s render target.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.SetRenderTarget(RenderTarget);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Clear the backbuffer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.Clear(clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Begin the spritebatch</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    spriteBatch.Begin();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here, the change we made is the first line inside the method.  We simply tell the <code>GraphicsDevice</code> to use the scene&#x27;s render target.  </p><p>This however is only half the story.  If we tell the <code>GraphicsDevice</code> to use the render target, then it will keep using it, even other draw code outside of our scene. We need to make sure that when we are finsihed drawing our scene, that we tell the <code>GraphicsDevice</code> to switch back to drawing to the backbuffer. </p><p>To do this, locate the <code>AfterDraw(SpriteBatch)</code> method, and change it to the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles ending any drawing the scene is performing.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     This is called immediatly after Draw.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void AfterDraw(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  End the spritebatch</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    spriteBatch.End();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Tell the graphics device to stop using the render target</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.SetRenderTarget(null);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The change we made here is at the end of method. We just set the render target that the <code>GraphicsDevice</code> is using to <code>null</code>.  This tell it to go back to drawing to the game window.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="disposing-the-rendertarget"></a>Disposing the RenderTarget<a class="hash-link" href="#disposing-the-rendertarget" title="Direct link to heading">#</a></h3><p>The last change we need to make to our <code>Scene</code> class is ensuring that we dispose of the <code>RenderTarget2D</code> instance when the scene is no longer being used.  If you recall from the previous tutorial, we setup the <code>UnloadContent()</code> method to handle freeing resources managed by the Scene&#x27;s <code>ContentManger()</code>.  This will be a great place to also dispose of the render target, since itself is content of the scene that needs to be unloaded.</p><p>Find the <code>UpdateContent()</code> method and update it to the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Unloads any content that has been loaded by the scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     This will be called after the game switches to a new</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void UnloadContent()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _content.Unload();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _content = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Dispose of the render target if it is not already disposed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(RenderTarget != null &amp;&amp; !RenderTarget.IsDisposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        RenderTarget = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here the change we make is to check if the render target hasn&#x27;t been disposed, and if not, we dispose of it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="transition-class"></a>Transition Class<a class="hash-link" href="#transition-class" title="Direct link to heading">#</a></h2><p>Now that we have updated our <code>Scene</code> class, the next thing we need to do is create the <code>Transition</code> class.  A transition, like a scene, is an abstract concept that is implemented by the different type of transitions, such as fade swips, etc.  So before we get to the code of the <code>Transition</code> class, let&#x27;s first define what we&#x27;ll need.</p><ul><li>A way of specifing if the transition is <strong>in</strong> or <strong>out</strong> (i.e. fade in vs fade out).</li><li>A render target to draw the transition too.</li><li>Handling graphics create/reset for the render target.</li><li>Disposale of the render target</li><li>A reference to render target of the scene we are transitioning.</li><li>Way of tracking how long the transition should take and the amount of time the amount of time that has elasped.</li><li>A way of telling the transition when to start.</li><li>A way of knowing exatly when the transition has ended so we can handle anything in code</li></ul><p>So now that we have defined what we&#x27;ll need, let&#x27;s take a look at the code.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-code"></a>The Code<a class="hash-link" href="#the-code" title="Direct link to heading">#</a></h3><p>Below is the entire code needed for the transition class. Look it over and then we&#x27;ll dive into each section of the code below.</p><p><strong>using statements</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework.Graphics;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using System;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><strong>Transition class</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Base class for all transition instances.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public abstract class Transition : IDisposable</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public enum TransitionKind</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        In,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Out</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected bool _disposed;   //  Indicates if this instance has been disposed of.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected Game1 _game;   //  Cached reference to our game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets a value indicating if this transition is currently transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public bool IsTransitioning { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets a value indicating the type of transition this is</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public TransitionKind Kind { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets the total amount of time required for this transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public TimeSpan TransitionTime { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets the total amount of time remaining for the transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public TimeSpan TransitionTimeRemaining { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets a cached reference to the RenderTarget2D instance used by the Scene</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     this transition is transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public RenderTarget2D SourceTexture { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets the RenderTarget2D instanice this transition renders to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public RenderTarget2D RenderTarget { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Event triggered when the transition has fully complerted.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public event EventHandler TransitionCompleted;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Creates a new Transition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public Transition(Game1 game, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game = game;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        TransitionTimeRemaining = TransitionTime = transitionTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Kind = kind;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Starts the transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;sourceTexture&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A reference to the RenderTarget2D instance of the scene being transitioned.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public virtual void Start(RenderTarget2D sourceTexture)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        SourceTexture = sourceTexture;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        IsTransitioning = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Updates this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;gameTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A snapshot of the timing values provided by the MonoGame Framework.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public virtual void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        TransitionTimeRemaining -= gameTime.ElapsedGameTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (TransitionTimeRemaining &lt;= TimeSpan.Zero)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            IsTransitioning = false;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            if (TransitionCompleted != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                TransitionCompleted(this, EventArgs.Empty);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Draws the Transition to its render target.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void Draw(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        BeginRender(spriteBatch, clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Render(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        EndRender(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Prepares this transition for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private void BeginRender(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Prepare the graphics device.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.SetRenderTarget(RenderTarget);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.Viewport = new Viewport(RenderTarget.Bounds);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.Clear(clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Begin the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        spriteBatch.Begin(blendState: BlendState.AlphaBlend,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            samplerState: SamplerState.PointClamp);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected virtual void Render(SpriteBatch spriteBatch) { }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Ends the rendering for this tansition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private void EndRender(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  End the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        spriteBatch.End();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.SetRenderTarget(null);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     When the graphics device is created, no contents are in VRAM, so we need</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     to ensure that the RenderTarget is created.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void HandleGraphicsCreated()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     When the graphics device is reset, all contents of VRAM are discared. When</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     this happens, we need to create things like RenderTarget instances.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void HandleGraphicsReset()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Creates a new RenderTarget instance for this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private void CreateRenderTarget()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        int width = _game.GraphicsDevice.PresentationParameters.BackBufferWidth;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        int height = _game.GraphicsDevice.PresentationParameters.BackBufferHeight;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  If the RenderTarget instance has already been created previously but has yet</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  to be disposed of properly, dispose of the instnace before setting a new one.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (RenderTarget != null &amp;&amp; !RenderTarget.IsDisposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        RenderTarget = new RenderTarget2D(_game.GraphicsDevice, width, height);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     For more informaiton on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void Dispose()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Dispose(true);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        GC.SuppressFinalize(this);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;isDisposing&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A value indicating if resources should be disposed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     For more informaiton on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected virtual void Dispose(bool isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (_disposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            if (RenderTarget != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                RenderTarget = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _disposed = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="idisposable"></a>IDisposable<a class="hash-link" href="#idisposable" title="Direct link to heading">#</a></h3><p>The first thing to pay attention to in the code is that we are using the <code>IDisposable</code> interface.  </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">public abstract class Transition : IDisposable</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This means we have a Dispose method that we can call manually, or can be called by the garbage collector automatically when there is no reference to a transition object instnace. By having this, we can ensure that resources are cleaned up, like the render target.</p><p>The implementation here for the <code>IDisposable</code> interface is pretty simple.  First we have the following field</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected bool _disposed;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This field indicates if the transition instance has already been disposed of.</p><p>Next we have the <code>Dispose()</code> and <code>Dispose(bool)</code> methods.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     For more informaiton on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void Dispose()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Dispose(true);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GC.SuppressFinalize(this);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;isDisposing&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A value indicating if resources should be disposed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     For more informaiton on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected virtual void Dispose(bool isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_disposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (RenderTarget != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            RenderTarget = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _disposed = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The first <code>Dispose()</code> method is the public one. This is the one that we can call when we need to dispose of the instance, or is called by the garbage collector.  The second <code>Dispose(bool)</code> is where the dispoal occurs.  Here, we check if we have already disposed, and if so we just return back.  If not, we then check the value of <code>_isDisposing</code>, and if <code>true</code>, we dispose of the render target gracefully.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="transitionkind-enum"></a>TransitionKind Enum<a class="hash-link" href="#transitionkind-enum" title="Direct link to heading">#</a></h3><p>Next, we said before that we needed a way of indicating if we were transitioning <strong>in</strong> or <strong>out</strong>. This is what the <code>TransitionKind</code> enum is for.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Defines a value that indicates the kind of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public enum TransitionKind</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Indecates a transition in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    In,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Indicates a transition out.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Out</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>As far as things go, this is pretty simple.  It defines a value for us that indicates if a transition is transitioning <em>in</em> or <em>out</em>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fields"></a>Fields<a class="hash-link" href="#fields" title="Direct link to heading">#</a></h3><p>Our <code>Transition</code> class only has two fields.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected bool _disposed;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected Game1 _game; </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We talked previously about the <code>_disposed</code> field in the IDisposable section above.  The <code>_game</code> field is to store a cached reference to the <code>Game1</code> instance, just like we did in the Scene class.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="properties"></a>Properties<a class="hash-link" href="#properties" title="Direct link to heading">#</a></h3><p>The following are the properties of our <code>Transition</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets a value indicating if this transition is currently transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public bool IsTransitioning { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets a value indicating the type of transition this is</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public TransitionKind Kind { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the total amount of time required for this transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public TimeSpan TransitionTime { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the total amount of time remaining for the transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public TimeSpan TransitionTimeRemaining { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets a cached reference to the RenderTarget2D instance used by the Scene</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     this transition is transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public RenderTarget2D SourceTexture { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the RenderTarget2D instanice this transition renders to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public RenderTarget2D RenderTarget { get; private set; }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>These should all be pretty self explanitory.  </p><p><code>IsTransitioning</code> is a value we can set to indicate if the transition has started and is currently in the middel of transitioning.  </p><p><code>Kind</code> indicates what <code>TransitionKind</code> this transition is doing.</p><p><code>TransitionTime</code> is a TimeSpan that indicates the total amount of time the transition should take before it is completed.</p><p><code>TransitoinTimeRemaining</code> is a TimeSpan we use as a countdown to indicate how much time left for the transition to complete.</p><p><code>SourceTexture</code> is a reference to the render target of the scene that this transition is transitioning.  We&#x27;ll manipulate this render target when we draw the transition to create the transition effect.</p><p><code>RenderTarget</code> is the render target that we draw the transition too.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="events"></a>Events<a class="hash-link" href="#events" title="Direct link to heading">#</a></h3><p>There is only one event in the <code>Transition</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Event triggered when the transition has fully complerted.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public event EventHandler TransitionCompleted;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We will invoke this event when a transition has completed. Anything subscribed to this event can safely assume that the transition is done and it can move on.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="constructor"></a>Constructor<a class="hash-link" href="#constructor" title="Direct link to heading">#</a></h3><p>Next, let&#x27;s take a look at the constructor</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Creates a new Transition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public Transition(Game1 game, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game = game;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    TransitionTimeRemaining = TransitionTime = transitionTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Kind = kind;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When creating a new <code>Transition</code> instance, this is the constructor that is called.  It requires a reference to <code>Game1</code>, a TimeSpan indicating how long the transition will take, and a <code>TransitionKind</code> value to indicate if this transition is going <em>in</em> or *out.</p><p>After caching these values, we create the RenderTarget for the transition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="startrendertarget"></a>Start(RenderTarget)<a class="hash-link" href="#startrendertarget" title="Direct link to heading">#</a></h3><p>The <code>Start(RenderTarget)</code> method is used to start the transition.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Starts the transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;sourceTexture&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to the RenderTarget2D instance of the scene being transitioned.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void Start(RenderTarget2D sourceTexture)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SourceTexture = sourceTexture;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    IsTransitioning = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When <code>Start</code> is called, we have to pass to it the render target instance of the scene that is being transitioned.  We simply just cache the reference to the render target, then set the <code>IsTransitioning</code> property to <code>true</code> to indicate the the transition has started.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="updategametime"></a>Update(GameTime)<a class="hash-link" href="#updategametime" title="Direct link to heading">#</a></h3><p>Next is the <code>Update(GameTime)</code> method.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Updates this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;gameTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A snapshot of the timing values provided by the MonoGame Framework.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    TransitionTimeRemaining -= gameTime.ElapsedGameTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (TransitionTimeRemaining &lt;= TimeSpan.Zero)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        IsTransitioning = false;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (TransitionCompleted != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            TransitionCompleted(this, EventArgs.Empty);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This is a pretty simple update method all things considered.  We subtract the amount of time that has elapsed from the <code>TransitionTimeRemaining</code>.  We then check if the <code>TransitionTimeRemaining</code> has reached or gone below zero.  If it has, we set <code>IsTransitioning</code> to false and trigger the <code>TransitionComleted</code> event.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="beforerenderspritebatch-color"></a>BeforeRender(SpriteBatch, Color)<a class="hash-link" href="#beforerenderspritebatch-color" title="Direct link to heading">#</a></h3><p>The <code>Beforerender(SpriteBatch, Color)</code> method will handle setting up the graphics device and the spritebatch to for rendering our transition.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Prepares this transition for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void BeginRender(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Prepare the graphics device.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.SetRenderTarget(RenderTarget);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.Clear(clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Begin the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    spriteBatch.Begin(blendState: BlendState.AlphaBlend,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        samplerState: SamplerState.PointClamp);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here we seting the <code>GraphicsDvice</code> rendertarget to use the transition&#x27;s rendertaget.  Then we clear the backbuffer using the color provided.  After that we tell the <code>SpriteBatch</code> instnace to begin.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="renderspritebatch"></a>Render(SpriteBatch)<a class="hash-link" href="#renderspritebatch" title="Direct link to heading">#</a></h3><p>Next is the <code>Render(SpriteBatch)</code> method.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected virtual void Render(SpriteBatch spriteBatch) { }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In this base <code>Transition</code> class, we don&#x27;t do anything here. Instead it will be up to the class that inherits from <code>Transition</code> to implement how to render the transition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="endrenderspritebatch"></a>EndRender(SpriteBatch)<a class="hash-link" href="#endrenderspritebatch" title="Direct link to heading">#</a></h3><p>The <code>EndRender(SpriteBatch)</code> method handles gracefully endeing rendering of our transition.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Ends the rendering for this tansition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void EndRender(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  End the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    spriteBatch.End();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.SetRenderTarget(null);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>It does this by simply ending the spritebatch and then setting the render target of the graphics device to null.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="drawspritebatch-color"></a>Draw(SpriteBatch, Color)<a class="hash-link" href="#drawspritebatch-color" title="Direct link to heading">#</a></h3><p>This is where all of the above rendering methods get called.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Draws the Transition to its render target.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void Draw(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    BeginRender(spriteBatch, clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Render(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EndRender(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We pass in the <code>SpriteBatch</code> instance used for drawing and a <code>Color</code> to clear the backbuffer with, then call the <code>BeginRender(SpriteBatch, Color)</code>, <code>Render(SpriteBatch)</code>, and <code>EndRender(SpriteBatch)</code> methods in that order.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handlegraphicscreated"></a>HandleGraphicsCreated()<a class="hash-link" href="#handlegraphicscreated" title="Direct link to heading">#</a></h3><p>Just like in our <code>Scene</code> class, we have a <code>HandleGraphicsCreated()</code> method that can be called whenever the graphics device is created.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     When the graphics device is created, no contents are in VRAM, so we need</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     to ensure that the RenderTarget is created.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void HandleGraphicsCreated()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When this happens, we tell the transition instance to create its render target.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handlegraphicsreset"></a>HandleGraphicsReset()<a class="hash-link" href="#handlegraphicsreset" title="Direct link to heading">#</a></h3><p>Again, just like in our <code>Scene</code> class, we have a <code>HandleGraphicsReset()</code> method that can be called whenver the graphics device is reset</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     When the graphics device is reset, all contents of VRAM are discared. When</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     this happens, we need to create things like RenderTarget instances.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void HandleGraphicsReset()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When this happens, we tell the transition instance to craete its render target.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="createrendertarget"></a>CreateRenderTarget()<a class="hash-link" href="#createrendertarget" title="Direct link to heading">#</a></h3><p>Finally, we have the <code>CreateRenderTarget()</code> method.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Creates a new RenderTarget instance for this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void CreateRenderTarget()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    int width = _game.GraphicsDevice.PresentationParameters.BackBufferWidth;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    int height = _game.GraphicsDevice.PresentationParameters.BackBufferHeight;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If the RenderTarget instance has already been created previously but has yet</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  to be disposed of properly, dispose of the instnace before setting a new one.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (RenderTarget != null &amp;&amp; !RenderTarget.IsDisposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    RenderTarget = new RenderTarget2D(_game.GraphicsDevice, width, height);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Just like with the <code>Scene</code> class, we first check if the render target needs to be disposed of, and if so, we dispose it. Then we create the instance.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="updating-game1"></a>Updating Game1<a class="hash-link" href="#updating-game1" title="Direct link to heading">#</a></h2><p>Now that we have updating our <code>Scene</code> class and created the <code>Transition</code> class, we need to update our <code>Game1</code> class to use the transitions when switching scenes. There are a few things we&#x27;ll need</p><ul><li>A reference to the transition out effect being used.</li><li>A reference to the transition in effect being used.</li><li>A refrence to the current transition that is transitioning</li><li>A method to handle changing scenes using transitions</li><li>An implementation of subscribing to the graphics device <strong>reset</strong> and <strong>created</strong> events so that we can pass this along to the scene and any transitions.</li></ul><p>With those points defined, let&#x27;s get started updating our <code>Game1</code> class.  Open the <strong>Game1.cs</strong> class file.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="transition-fields"></a>Transition Fields<a class="hash-link" href="#transition-fields" title="Direct link to heading">#</a></h3><p>First, we need to add three new fields to our <code>Game1</code> class.  </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">//   The Transition Out instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private Transition _transitionOut;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//  The Transition In instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private Transition _transitionIn;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//  The current transition being used.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private Transition _currentTransition;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><code>_transitionOut</code> will be our reference to the transition effect that is transitioning the current scene <em>out</em>.</p><p><code>_transitionIn</code> will be our referece to the transition effect that is transitioning the current sceen <em>in</em>.</p><p><code>_currentTransition</code> will hold a reference to either <code>_transitionOut</code> or <code>_transitionIn</code> depending on whcih transition is the current one that is transitioning.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="changescenescene-transition-transition"></a>ChangeScene(Scene, Transition, Transition)<a class="hash-link" href="#changescenescene-transition-transition" title="Direct link to heading">#</a></h3><p>Next, we&#x27;re going to add an overload method of the <code>ChangeScene</code> method.  Add the following method to <code>Game1</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Changes the current scene to the sceen provided using the transition</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     in and out instance provided.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;to&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The scene to change to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &gt;&lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;tOut&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The transition to use when transitioning out.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;tIn&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The transition to use when transitioning in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void ChangeScene(Scene to, Transition tOut, Transition tIn)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_currentTransition == null || !_currentTransition.IsTransitioning)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (_activeScene != to)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _nextScene = to;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _transitionOut = tOut;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _transitionIn = tIn;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            //  Subscribe to the TransitionCompleted events for each</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _transitionOut.TransitionCompleted += TransitionOutCompleted;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _transitionIn.TransitionCompleted += TransitionInCompleted;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            //  Set the curren transition to the out transition first.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _currentTransition = _transitionOut;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            //  Start the current transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _currentTransition.Start(_activeScene.RenderTarget);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This <code>ChangeScene(Scene, Transition, Transition)</code> method takes three parameters.  A <code>Scene</code> instance of the scene that we are transitioning <strong>to</strong>, a <code>Transition</code> instance that we can use to transition the current scene <strong>out</strong> with, and finally a <code>Transition</code> instance that we canuse to transitoin the next scene <strong>in</strong> with.</p><p>First, it checks to see if the <code>_currentTransition</code> is <code>null</code> and if not ensure that it is not in the middle of a transition, and only continues if this scenario matches.  We don&#x27;t want to trigger a transition while a transition is already happening.</p><p>Next we check to make sure that the scene to switch <strong>to</strong> is not the same instance of the current active scene, and only continue if they are different.</p><p>If these checks pass, then we cache the references to the next scene, the transition out and the transition in instances.  We then subscribe to the <code>TransitionCompleted</code> events for both the <code>_transitionOut</code> and <code>_transitionIn</code> instances. Next we set the <code>_currentTransition</code> as the <code>_transitionOut</code> and tell it to start, giving it the reference to the current active scene&#x27;s render target.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="transitionoutcompletedobject-eventargs"></a>TransitionOutCompleted(object, EventArgs)<a class="hash-link" href="#transitionoutcompletedobject-eventargs" title="Direct link to heading">#</a></h3><p>In the <code>ChangeScene(Scene, Transition, Transition)</code> method, we subscribed to the <code>TransitionCompleted</code> event of the <code>_transitionOut</code> instance.  So we need to add that method now. Add the following method to the <code>Game1</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Called when the transition out being used is completed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void TransitionOutCompleted(object sender, EventArgs e)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Unsubscribe from the event so we don&#x27;t leave any references.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _transitionOut.TransitionCompleted -= TransitionOutCompleted;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Dispose of the instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _transitionOut.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _transitionOut = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Change the scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    TransitionScene();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Set the current transition to the in transition and start it.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _currentTransition = _transitionIn;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _currentTransition.Start(_activeScene.RenderTarget);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>So, whenever the transition out is completed, this gets called.  The first thing we do is unsubscribe fromt he event.  This is so we don&#x27;t leave any hanging reference to the <code>_transitionOut</code>.  Next we dispose of the <code>_transitionOut</code> instance since we no longer need it and can free up its resources.</p><p>After this, we call the <code>TransitionScene()</code> method we setup in the previous tutorial to gracefully handle changing from the current active scene to the next. Then we set the <code>_currentTransition</code> to the <code>_transitionIn</code> instance and tell it to start transitioning in.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="transitionincompletedobject-eventargs"></a>TransitionInCompleted(object, EventArgs)<a class="hash-link" href="#transitionincompletedobject-eventargs" title="Direct link to heading">#</a></h3><p>As with the transition out, we subscribed to the <code>TransitionCompleted</code> event of the <code>_transitionIn</code> instance. So we need to add the method for that next.  Add the following method to the <code>Game1</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Called when the transition in being used is completed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void TransitionInCompleted(object sender, EventArgs e)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Unsubscribe from the event so we don&#x27;t leave any references.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _transitionIn.TransitionCompleted -= TransitionInCompleted;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Dispose of the instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _transitionIn.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _transitionIn = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _currentTransition = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This one is pretty simple and just does some basic cleanup of resources. First we unsubscribe to the <code>TransitionCompleted</code> event.  Then we dispose of <code>_transitionIn</code> and set both it and <code>_currentTransition</code> to <code>null</code> since they are no longer needed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="change-updategametime"></a>Change Update(GameTime)<a class="hash-link" href="#change-updategametime" title="Direct link to heading">#</a></h3><p>Now we need to change the <code>Update(GameTime)</code> method. The following is what this method should look like now.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    PrevKeyboardState = CurKeyboardState;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    CurKeyboardState = Keyboard.GetState();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If there is a current transition happening, then we need to update</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  that transition. Otherwise, if there is no current transition, but there</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  is a next scene to swtich to, switch to that scene instead.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_currentTransition != null &amp;&amp; _currentTransition.IsTransitioning)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _currentTransition.Update(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else if(_currentTransition == null &amp;&amp; _nextScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        TransitionScene();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If there is an active scene, update it.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.Update(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    base.Update(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The change we have made is right in the middle of it. Previously we were just checking if there was a next scene to switch to, and if so, we immediatly switched to that scene. </p><p>With the new change, instead we first check if there is a current transition and if it is transitioning. If so, then we update the current transition.  Otherwise, we check to see if there is not a current transitoin but there <strong>IS</strong> a next scene, and if so we switch to the next scene.</p><p>By setting it up this way, it allows us to switch scenes using transition effects, but if we want to simply switch without them by using the old <code>ChangeScene(Scene)</code> method, we can still do that to instantly switch.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="change-drawgametime"></a>Change Draw(GameTime)<a class="hash-link" href="#change-drawgametime" title="Direct link to heading">#</a></h3><p>Finally, we need to change the <code>Draw(GameTime)</code> method to handle not only drawing the current transition, but also to handle using the render targets we created for the transitions and the scenes.</p><p>The following is what the <code>Draw(GameTime)</code> method should be updated to.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Draw(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  The color to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Color clearColor = Color.Black;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Render the current scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.BeforeDraw(_spriteBatch, clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.Draw(_spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.AfterDraw(_spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  If there is a current transition happening, render the transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (_currentTransition != null &amp;&amp; _currentTransition.IsTransitioning)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _currentTransition.Draw(_spriteBatch, Color.Black);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Prepare the graphics device for the final render.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        GraphicsDevice.Clear(clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _spriteBatch.Begin();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  If we are transitioning, then we render the transition effect; otherwise, we&#x27;ll render</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  the current scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (_currentTransition != null &amp;&amp; _currentTransition.IsTransitioning)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _spriteBatch.Draw(texture: _currentTransition.RenderTarget,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                destinationRectangle: _currentTransition.RenderTarget.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                sourceRectangle: _currentTransition.RenderTarget.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                color: Color.White);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        else if (_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            _spriteBatch.Draw(texture: _activeScene.RenderTarget,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                destinationRectangle: _activeScene.RenderTarget.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                sourceRectangle: _activeScene.RenderTarget.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                color: Color.White);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _spriteBatch.End();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    base.Draw(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>There is a bit to digest here, so let&#x27;s break it down.</p><p>First, we check to see if there is an active scene. We can&#x27;t perform our draw code here without a scene to render.  If there is an active scene, then we draw it in order of <code>BeginDraw(SpriteBatch, Color)</code>, <code>Draw(SpriteBatch)</code>, <code>EndDraw(SpriteBatch)</code>.  <strong>Remember, the scene is now drawing it its render target here, not the sreen.</strong></p><p>Next we check if there is a current transition happening.  If there is, we tell the transition to draw. <strong>Just like with the scene, remember, the transition is drawing to its render target, not to the screen.</strong></p><p>Once we have finished drawing the scene and the transition, we finally draw to the screen.  <strong>Recall that both the scene and the transition, in their final draw methods, both set the <code>GraphicsDevice</code> render target to null.  This means at this point we are prepared to draw to the screen</strong>.</p><p>First we check to see if there is a current transition and if it is transitioning.  If so, we draw the render target of the current transition to the screen.  If there is no transition happening, we instead draw the render target of the current active scene to the screen.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="graphicsdevice-created-and-reset-events"></a>GraphicsDevice Created and Reset Events<a class="hash-link" href="#graphicsdevice-created-and-reset-events" title="Direct link to heading">#</a></h3><p>Finally, we need to maek sure that we are handling the <code>GraphicsDevice.DeviceCreated</code> and <code>GraphicsDevice.DeviceReset</code> events so we can pass this along and handle them in the current acrive scene and any transitions.</p><p>To do this, first locate the <code>Initialize()</code> method in the <code>Game1</code> class and change it to the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Initialize()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    base.Initialize();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Handle the created and reset events.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _graphics.DeviceCreated += GraphicsDeviceCreated;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _graphics.DeviceReset += GraphicsDeviceReset;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Load the GreenCircleScene as our first scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ChangeScene(new GreenCircleScene(this));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here we subscribe the neccesary events.  Next, let&#x27;s add the <code>GraphicsDeviceCreated(object, EventArgs)</code> and <code>GraphicsDeviceReste(object, EventArgs)</code> methods.  Add the following methods to the <code>Game1</code> class.</p><p><strong>GraphicsDeviceCreated(object, EventArgs)*</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Called when the graphics device is created.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected virtual void GraphicsDeviceCreated(object sender, EventArgs e)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.HandleGraphicsCreated();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_transitionOut != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _transitionOut.HandleGraphicsCreated();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_transitionIn != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _transitionIn.HandleGraphicsCreated();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><strong>GraphicsDeviceReset(object, EventArgs)</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Called when the graphics device is reset.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected virtual void GraphicsDeviceReset(object sender, EventArgs e)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.HandleGraphicsReset();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_transitionOut != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _transitionOut.HandleGraphicsReset();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_transitionIn != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _transitionIn.HandleGraphicsReset();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In both of these, we tell the current active sceen and any transitions to handle the event.</p><p>And that&#x27;s it for all of the <code>Game1</code> updates. Now lets actually create a transition effect to test this with.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fade-transition-effect"></a>Fade Transition Effect<a class="hash-link" href="#fade-transition-effect" title="Direct link to heading">#</a></h2><p>The first transition effect we&#x27;ll create is going to be the most command and simplest one of all, a fade effect.  This transition will simply fade out the current scene and then fade in the next one.</p><p>Create a new class file called <strong>FadeTransition.cs</strong> in your project then add the following code.</p><p>**using statements</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework.Graphics;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using System;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><strong>FadeTransition class</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A transition that fades the scene out/in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public class FadeTransition : Transition</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Creates a new FadeTransition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public FadeTransition(Game1 game, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        : base(game, transitionTime, kind) { }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected override void Render(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        spriteBatch.Draw(texture: SourceTexture,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            destinationRectangle: SourceTexture.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            sourceRectangle: SourceTexture.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            color: Color.White * GetAlpha());</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets the alpha value to use for the color mask when rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The value to use for the color mask alpha</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private float GetAlpha()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        double timeLeft = TransitionTimeRemaining.TotalSeconds;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (Kind == TransitionKind.Out)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return (float)(timeLeft / TransitionTime.TotalSeconds);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return (float)(1.0 - (timeLeft / TransitionTime.TotalSeconds));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="constructor-1"></a>Constructor<a class="hash-link" href="#constructor-1" title="Direct link to heading">#</a></h3><p>The constructor of our <code>FadeTransition</code> is pretty simple. </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Creates a new FadeTransition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public FadeTransition(Game1 game, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    : base(game, transitionTime, kind) { }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>It simply just takes in the required values of the base <code>Transition</code> constructor and then passes them along.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="renderspritebatch-1"></a>Render(SpriteBatch)<a class="hash-link" href="#renderspritebatch-1" title="Direct link to heading">#</a></h3><p>The <code>Render(SpriteBatch)</code> method is rather simple as well.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Render(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    spriteBatch.Draw(texture: SourceTexture,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        destinationRectangle: SourceTexture.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        sourceRectangle: SourceTexture.Bounds,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        color: Color.White * GetAlpha());</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>All it does is render the source texture, but sets the color mask to <code>Color.White * GetAlpha()</code>.  By multiplying it by an alpha value, we can make the render of the texture transparent depending on the amount of alpha we apply.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getalpha"></a>GetAlpha()<a class="hash-link" href="#getalpha" title="Direct link to heading">#</a></h3><p>The <code>GetAlpha()</code> method is responsible for determining how much alpha to apply to the render.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the alpha value to use for the color mask when rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The value to use for the color mask alpha</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private float GetAlpha()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    double timeLeft = TransitionTimeRemaining.TotalSeconds;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (Kind == TransitionKind.Out)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return (float)(timeLeft / TransitionTime.TotalSeconds);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return (float)(1.0 - (timeLeft / TransitionTime.TotalSeconds));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Depending on if the fade transition is fading in or out, we interpolate the alpha value betwen 0.0 and 1.0 based on the amount of time that is remaining for the transition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing-the-transition"></a>Testing The Transition<a class="hash-link" href="#testing-the-transition" title="Direct link to heading">#</a></h3><p>Now let&#x27;s test the transition. Open the <strong>GreenCircleScene.cs</strong> class file and locate the <code>Update(GameTime)</code> method.  Change the method to the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Updates this scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;gameTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A snapshot of the frame specific timing values.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public override void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_game.CurKeyboardState.IsKeyDown(Keys.Space) &amp;&amp; _game.PrevKeyboardState.IsKeyUp(Keys.Space))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Tell the game to change to the OrangeCircleScene using the FadeTransition</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.ChangeScene(new OrangeCircleScene(_game),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            new FadeTransition(_game, TimeSpan.FromSeconds(1), Transition.TransitionKind.Out),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            new FadeTransition(_game, TimeSpan.FromSeconds(1), Transition.TransitionKind.In));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We&#x27;ve udpated it so that when we call <code>_game.ChangeScene</code> we are now using the <code>(Scene, Transition Transition)</code> overload.  We pass to it a new <code>OrangeCircleScene</code> instance, a <code>FadeTransition</code> instance that is fading out and a <code>FadeTransition</code> instance that is fading in.</p><p>Next, open the <strong>OrangeCircleScene.cs</strong> class file and make the same change to it&#x27;s <code>Udpate(GameTime)</code> method as we did above to. Only for this one, make sure we are changing to the <code>GreenCircleScene</code> instead.</p><p>If you run the game now, you should see the green circle scene first. Then if you press the space key to change scenes, the green circle scene will fade out, then the orange circle sceen will fade in.  It&#x27;s magic!!!</p><p><img src="/assets/images/fade-transition-fda7ea07dc4401938f3f89616a0054fa.gif"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="evenoddtiletransition"></a>EvenOddTileTransition<a class="hash-link" href="#evenoddtiletransition" title="Direct link to heading">#</a></h2><p>Now that we&#x27;ve created a simple fade transition, lets create one that really stands out. Imagine a grid, like a chess board.  In this grid, we&#x27;re going to group each odd grid cell together and each even grid cell together.  To help visualize this, see the image below.  The gray grid cells are the even ones and the white grid cells are the odd ones.</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAC0CAYAAADl5PURAAAAAXNSR0IArs4c6QAAAvFJREFUeJzt3bFNBEEQRcFbdMFhEwNZQQrgQnZDEN3GolcVwOhbT+P19fH1cx6L3t9eN597fH7/rr5n34x9M/bNbO97WX0N4B8RQCBLAIEsAQSyBBDIEkAgSwCBLAEEsgQQyBJAIEsAgSwBBLIEEMgSQCBLAIEsAQSyBBDIEkAgSwCBrOucs3oT5O43AOybsW/GvpntfX6AQJYAAlkCCGQJIJAlgECWAAJZAghkCSCQJYBAlgACWQIIZAkgkCWAQJYAAlkCCGQJIJAlgECWAAJZAghkPWs3AOybsW/GvpntfX6AQJYAAlkCCGQJIJAlgECWAAJZAghkCSCQJYBAlgACWQIIZAkgkCWAQJYAAlkCCGQJIJAlgECWAAJZAghkXeecs/ng3W8A2Ddj34x9M9v7/ACBLAEEsgQQyBJAIEsAgSwBBLIEEMgSQCBLAIEsAQSyBBDIEkAgSwCBLAEEsgQQyBJAIEsAgSwBBLIEEMh61m4A2Ddj34x9M9v7/ACBLAEEsgQQyBJAIEsAgSwBBLIEEMgSQCBLAIEsAQSyBBDIEkAgSwCBLAEEsgQQyBJAIEsAgSwBBLIEEMi6zjln88G73wCwb8a+Gftmtvf5AQJZAghkCSCQJYBAlgACWQIIZAkgkCWAQJYAAlkCCGQJIJAlgECWAAJZAghkCSCQJYBAlgACWQIIZAkgkPWs3QCwb8a+Gftmtvf5AQJZAghkCSCQJYBAlgACWQIIZAkgkCWAQJYAAlkCCGQJIJAlgECWAAJZAghkCSCQJYBAlgACWQIIZAkgkHWdc87mg3e/AWDfjH0z9s1s7/MDBLIEEMgSQCBLAIEsAQSyBBDIEkAgSwCBLAEEsgQQyBJAIEsAgSwBBLIEEMgSQCBLAIEsAQSyBBDIEkAg61m7AWDfjH0z9s1s7/MDBLIEEMgSQCBLAIEsAQSyBBDIEkAgSwCBLAEEsgQQyBJAIEsAgSwBBLIEEMgSQCBLAIEsAQSyBBDIEkAg6w8cVeZg7hOGeAAAAABJRU5ErkJggg=="></p><p>What were going to do with this transition effect take our scene and theoretcilly split it up into a grid like this.  For the transtion out, we are going first take all of the odd grid cells and shink + rotate them out of the scene. Then we are going to take all of the even grid cells and shrink + rotate them out of the scene  For the transition in, we&#x27;ll do the reverse, growing + rotating the cells into the screen.</p><p>Create a new class file in your project called <strong>EvenOddTileTransition.cs</strong>.  Then add the following code</p><p><strong>using statements</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework.Graphics;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using System;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><strong>EvenOddTileTransition class</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A transition that divides the scene into a checkerboard and spins out/in the odd tiles</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     then the even tiles</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public class EvenOddTileTransition : Transition</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Have the transition time.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private double _transitionHalfTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  The width and height, in pixels,  of a tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private int _tileSize;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  The total number of columns.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private int _columns;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  The total number of rows.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private int _rows;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Creates a new EvenOddTransition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;tileSize&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The width and height, in pixels, of a tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public EvenOddTileTransition(Game1 game, int tileSize, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        : base(game, transitionTime, kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _transitionHalfTime = TransitionTime.TotalSeconds / 2;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _tileSize = tileSize;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Starts the transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;sourceTexture&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A reference to the RenderTarget2D instance of the scene being transitioned.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public override void Start(RenderTarget2D sourceTexture)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        base.Start(sourceTexture);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _columns = (int)Math.Ceiling(SourceTexture.Width / (float)_tileSize);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _rows = (int)Math.Ceiling(SourceTexture.Height / (float)_tileSize);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected override void Render(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        for (int row = 0; row &lt; _rows; row++)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            for (int column = 0; column &lt; _columns; column++)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                int size = GetSize(IsOdd(column, row));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                int xPos = ((column * _tileSize) + (_tileSize - size) / 2) + (size / 2);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                int yPos = ((row * _tileSize) + (_tileSize - size) / 2) + (size / 2);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                spriteBatch.Draw(texture: SourceTexture,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    destinationRectangle: new Rectangle(xPos, yPos, size, size),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    sourceRectangle: new Rectangle(column * _tileSize, row * _tileSize, _tileSize, _tileSize),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    color: Color.White,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    rotation: GetRotation(IsOdd(column, row)),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    origin: new Vector2(_tileSize, _tileSize) * 0.5f,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    effects: SpriteEffects.None,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                    layerDepth: 0.0f);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Calculates and returns the value to use for the tiles rotation.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;isOdd&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Is the tile one of the odd tiles. An odd tile is one that is ina  row and column that is both</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     even numbers, or both odd numbers.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The rotation value to use for the tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private float GetRotation(bool isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        double timeLeft = TransitionTimeRemaining.TotalSeconds;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            timeLeft = Math.Min(timeLeft, _transitionHalfTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            timeLeft = Math.Max(timeLeft - _transitionHalfTime, 0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (Kind == TransitionKind.Out)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return 5.0f * (float)Math.Sin((timeLeft / _transitionHalfTime) - 1.0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return 5.0f * (float)Math.Sin((timeLeft / _transitionHalfTime));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Calcualtes and returns the size value to use for a tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;isOdd&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Is the tile one of the odd tiles. An odd tile is one that is ina  row and column that is both</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     even numbers, or both odd numbers.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The size value to use for the tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private int GetSize(bool isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        double timeLeft = TransitionTimeRemaining.TotalSeconds;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            timeLeft = Math.Min(timeLeft, _transitionHalfTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            timeLeft = Math.Max(timeLeft - _transitionHalfTime, 0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (Kind == TransitionKind.Out)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return (int)((_tileSize) * (timeLeft / _transitionHalfTime));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return (int)((_tileSize) * (1 - (timeLeft / _transitionHalfTime)));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Given a column (x) and row (y) of a tile, determines if it is an </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     odd tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     An odd tile is one where both the row and column are even numbers or</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     both the row and column are odd numbers</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;column&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The column the tile is in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;row&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The row the tile is in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;returns&gt;&lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private bool IsOdd(int column, int row)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return (column % 2 == 0 &amp;&amp; row % 2 == 0) || (column % 2 != 0 &amp;&amp; row % 2 != 0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fields-1"></a>Fields<a class="hash-link" href="#fields-1" title="Direct link to heading">#</a></h3><p>The <code>EvenOddTileTransition</code> class has the following fields</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">//  Half the transition time.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private double _transitionHalfTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//  The width and height, in pixels,  of a tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private int _tileSize;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//  The total number of columns.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private int _columns;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//  The total number of rows.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private int _rows;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>These are pretty self explainitory as to what they values they store are for.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="constructor-2"></a>Constructor<a class="hash-link" href="#constructor-2" title="Direct link to heading">#</a></h3><p>The constructor for the <code>EvenOddTileTransition</code> class is a little different than the fade one.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Creates a new EvenOddTransition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;tileSize&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The width and height, in pixels, of a tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public EvenOddTileTransition(Game1 game, int tileSize, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    : base(game, transitionTime, kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _transitionHalfTime = TransitionTime.TotalSeconds / 2;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _tileSize = tileSize;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>It takes the usual parameters as before, but with the addition of the <code>int tileSize</code> parameter.  This value is used to indicate the width and height, in pixels, of each of the grid tiles for the transition.</p><p>We then calculate the <code>_transitionHalfTime</code> value and cache the tile size given.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="startrendertarget-1"></a>Start(RenderTarget)<a class="hash-link" href="#startrendertarget-1" title="Direct link to heading">#</a></h3><p>The <code>Start(RenderTarget)</code> does a little setup as well for the transition</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Starts the transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;sourceTexture&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to the RenderTarget2D instance of the scene being transitioned.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public override void Start(RenderTarget2D sourceTexture)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    base.Start(sourceTexture);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _columns = (int)Math.Ceiling(SourceTexture.Width / (float)_tileSize);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _rows = (int)Math.Ceiling(SourceTexture.Height / (float)_tileSize);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When we tell the transition to start, we calculate the total number of columns and rows for the grid.  We do this here instead of in the constructor because we need to know the dimensions of the <code>SourceTexture</code>.  </p><p>We also use <code>Math.Ceiling</code> here to ensure that if the texture cannot be divided cleanly, we add an extra row or column for the excess amount.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="renderspritebatch-2"></a>Render(SpriteBatch)<a class="hash-link" href="#renderspritebatch-2" title="Direct link to heading">#</a></h3><p>Next is the <code>Render(SpriteBatch)</code> method.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Render(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    for (int row = 0; row &lt; _rows; row++)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        for (int column = 0; column &lt; _columns; column++)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            int size = GetSize(IsOdd(column, row));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            int xPos = ((column * _tileSize) + (_tileSize - size) / 2) + (size / 2);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            int yPos = ((row * _tileSize) + (_tileSize - size) / 2) + (size / 2);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            spriteBatch.Draw(texture: SourceTexture,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                destinationRectangle: new Rectangle(xPos, yPos, size, size),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                sourceRectangle: new Rectangle(column * _tileSize, row * _tileSize, _tileSize, _tileSize),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                color: Color.White,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                rotation: GetRotation(IsOdd(column, row)),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                origin: new Vector2(_tileSize, _tileSize) * 0.5f,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                effects: SpriteEffects.None,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                                layerDepth: 0.0f);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here we loop through through each row of the grid, looping through each column of the grid for each row.  For each column, we first get the size of the grid cell with the <code>GetSize(bool)</code> method. We then calculate the x and y position of the cell in the render.  Finally we draw it with the spritebatch.  </p><p>There are two other methods that are called from within here; the <code>IdOdd(int, int)</code> and <code>GetRotation(bool)</code> methods. We discuss these below.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getsizebool"></a>GetSize(bool)<a class="hash-link" href="#getsizebool" title="Direct link to heading">#</a></h3><p>The <code>GetSize(bool)</code> method is responsible for calculating the size of the grid cell.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Calcualtes and returns the size value to use for a tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;isOdd&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Is the tile one of the odd tiles. An odd tile is one that is ina  row and column that is both</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     even numbers, or both odd numbers.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The size value to use for the tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private int GetSize(bool isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    double timeLeft = TransitionTimeRemaining.TotalSeconds;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        timeLeft = Math.Min(timeLeft, _transitionHalfTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        timeLeft = Math.Max(timeLeft - _transitionHalfTime, 0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (Kind == TransitionKind.Out)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return (int)((_tileSize) * (timeLeft / _transitionHalfTime));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return (int)((_tileSize) * (1 - (timeLeft / _transitionHalfTime)));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The method takes a <code>bool</code> value that indicates if the grid cell is an odd cell.  We then interpolate the size of the cell based on if it is odd or even, and the amount of time left in the transition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getrotationbool"></a>GetRotation(bool)<a class="hash-link" href="#getrotationbool" title="Direct link to heading">#</a></h3><p>The <code>GetRotation(bool)</code> method is responsible for determining the amount of rotation to apply to the grid cell when its rendered.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Calculates and returns the value to use for the tiles rotation.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;isOdd&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Is the tile one of the odd tiles. An odd tile is one that is ina  row and column that is both</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     even numbers, or both odd numbers.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The rotation value to use for the tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private float GetRotation(bool isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    double timeLeft = TransitionTimeRemaining.TotalSeconds;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (isOdd)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        timeLeft = Math.Min(timeLeft, _transitionHalfTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        timeLeft = Math.Max(timeLeft - _transitionHalfTime, 0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (Kind == TransitionKind.Out)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return 5.0f * (float)Math.Sin((timeLeft / _transitionHalfTime) - 1.0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    else</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return 5.0f * (float)Math.Sin((timeLeft / _transitionHalfTime));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Just like the <code>GetSize(bool)</code> method, this also takes a <code>bool</code> value that indicates if the grid cell is an odd cell.  We then interpolate the rotation of the cell based on if it is odd or even, and the amount of time left in the transition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="isoddint-int"></a>IsOdd(int, int)<a class="hash-link" href="#isoddint-int" title="Direct link to heading">#</a></h3><p>Finally, the last method is the <code>IsOdd(int, int)</code> method.  This one determines if the grid cell at the column and row position in the grid is an odd cell.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Given a column (x) and row (y) of a tile, determines if it is an </span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     odd tile.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     An odd tile is one where both the row and column are even numbers or</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     both the row and column are odd numbers</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;column&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The column the tile is in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;row&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The row the tile is in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;returns&gt;&lt;/returns&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private bool IsOdd(int column, int row)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    return (column % 2 == 0 &amp;&amp; row % 2 == 0) || (column % 2 != 0 &amp;&amp; row % 2 != 0);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>And odd cell is one were either both the row and column are even numbers, or both the row and column are odd numbers.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing-the-transition-1"></a>Testing the Transition.<a class="hash-link" href="#testing-the-transition-1" title="Direct link to heading">#</a></h3><p>Now let&#x27;s test our transition out.  First, open the <code>GreenCircleScene</code> class file.  In the <code>Update(GameTime)</code> method, change the transition effects we are using from <code>FadeTransition</code> to <code>EvenOddTileTransition</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Updates this scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;gameTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A snapshot of the frame specific timing values.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public override void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_game.CurKeyboardState.IsKeyDown(Keys.Space) &amp;&amp; _game.PrevKeyboardState.IsKeyUp(Keys.Space))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Tell the game to change to the OrangeCircleScene</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.ChangeScene(new OrangeCircleScene(_game),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            new EvenOddTileTransition(_game, 32, TimeSpan.FromSeconds(1), Transition.TransitionKind.Out),</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            new EvenOddTileTransition(_game, 32, TimeSpan.FromSeconds(1), Transition.TransitionKind.In));</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here, when creating the new <code>EventOddTileTransition</code> instnaces I used a tile size of <code>32</code>, but you can use whatever value you&#x27;d like. Experiement with it.</p><p>Nest, open the <code>OrangeCirlceScene</code> class fileand change the <code>Update(GameTime)</code> method there as well to use the new <code>EvenOddTileTransition</code> class.  Remember to have this one create a ne <code>GreenCircleScene</code> to switch to.</p><p>Once you&#x27;ve made thse changes, run the game.  As usual, you should see the green circle scene appear first.  Press the space key to switch scenes and watch the magic happen. </p><p><img src="/assets/images/even-odd-transition-adb964ebc5c25a4ef524811063f0cbf8.gif"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>In this tutorial, we have added the ability to change scenes in our game with transition effects.  We updated the code from the previous  tutorial to use <code>RenderTaget2D</code>&#x27;s and added in the <code>Transition</code> class that we can build upon to make neat transitions.  We updated the <code>Game1</code> class to handle switching the scens with the transitions.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-12-22T04:23:53.000Z" class="docLastUpdatedAt_217_">12/21/2020</time> by <strong>Christopher Whitley</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rendertarget-introduction" class="table-of-contents__link">RenderTarget Introduction</a></li><li><a href="#updateing-the-scene-class" class="table-of-contents__link">Updateing the Scene Class.</a><ul><li><a href="#rendertarget-property" class="table-of-contents__link">RenderTarget Property</a></li><li><a href="#generaterendertarget" class="table-of-contents__link">GenerateRenderTarget()</a></li><li><a href="#handlegraphicsreset-and-handlegraphicscreated" class="table-of-contents__link">HandleGraphicsReset() and HandleGraphicsCreated()</a></li><li><a href="#using-the-rendertarget" class="table-of-contents__link">Using the RenderTarget</a></li><li><a href="#disposing-the-rendertarget" class="table-of-contents__link">Disposing the RenderTarget</a></li></ul></li><li><a href="#transition-class" class="table-of-contents__link">Transition Class</a><ul><li><a href="#the-code" class="table-of-contents__link">The Code</a></li><li><a href="#idisposable" class="table-of-contents__link">IDisposable</a></li><li><a href="#transitionkind-enum" class="table-of-contents__link">TransitionKind Enum</a></li><li><a href="#fields" class="table-of-contents__link">Fields</a></li><li><a href="#properties" class="table-of-contents__link">Properties</a></li><li><a href="#events" class="table-of-contents__link">Events</a></li><li><a href="#constructor" class="table-of-contents__link">Constructor</a></li><li><a href="#startrendertarget" class="table-of-contents__link">Start(RenderTarget)</a></li><li><a href="#updategametime" class="table-of-contents__link">Update(GameTime)</a></li><li><a href="#beforerenderspritebatch-color" class="table-of-contents__link">BeforeRender(SpriteBatch, Color)</a></li><li><a href="#renderspritebatch" class="table-of-contents__link">Render(SpriteBatch)</a></li><li><a href="#endrenderspritebatch" class="table-of-contents__link">EndRender(SpriteBatch)</a></li><li><a href="#drawspritebatch-color" class="table-of-contents__link">Draw(SpriteBatch, Color)</a></li><li><a href="#handlegraphicscreated" class="table-of-contents__link">HandleGraphicsCreated()</a></li><li><a href="#handlegraphicsreset" class="table-of-contents__link">HandleGraphicsReset()</a></li><li><a href="#createrendertarget" class="table-of-contents__link">CreateRenderTarget()</a></li></ul></li><li><a href="#updating-game1" class="table-of-contents__link">Updating Game1</a><ul><li><a href="#transition-fields" class="table-of-contents__link">Transition Fields</a></li><li><a href="#changescenescene-transition-transition" class="table-of-contents__link">ChangeScene(Scene, Transition, Transition)</a></li><li><a href="#transitionoutcompletedobject-eventargs" class="table-of-contents__link">TransitionOutCompleted(object, EventArgs)</a></li><li><a href="#transitionincompletedobject-eventargs" class="table-of-contents__link">TransitionInCompleted(object, EventArgs)</a></li><li><a href="#change-updategametime" class="table-of-contents__link">Change Update(GameTime)</a></li><li><a href="#change-drawgametime" class="table-of-contents__link">Change Draw(GameTime)</a></li><li><a href="#graphicsdevice-created-and-reset-events" class="table-of-contents__link">GraphicsDevice Created and Reset Events</a></li></ul></li><li><a href="#fade-transition-effect" class="table-of-contents__link">Fade Transition Effect</a><ul><li><a href="#constructor-1" class="table-of-contents__link">Constructor</a></li><li><a href="#renderspritebatch-1" class="table-of-contents__link">Render(SpriteBatch)</a></li><li><a href="#getalpha" class="table-of-contents__link">GetAlpha()</a></li><li><a href="#testing-the-transition" class="table-of-contents__link">Testing The Transition</a></li></ul></li><li><a href="#evenoddtiletransition" class="table-of-contents__link">EvenOddTileTransition</a><ul><li><a href="#fields-1" class="table-of-contents__link">Fields</a></li><li><a href="#constructor-2" class="table-of-contents__link">Constructor</a></li><li><a href="#startrendertarget-1" class="table-of-contents__link">Start(RenderTarget)</a></li><li><a href="#renderspritebatch-2" class="table-of-contents__link">Render(SpriteBatch)</a></li><li><a href="#getsizebool" class="table-of-contents__link">GetSize(bool)</a></li><li><a href="#getrotationbool" class="table-of-contents__link">GetRotation(bool)</a></li><li><a href="#isoddint-int" class="table-of-contents__link">IsOdd(int, int)</a></li><li><a href="#testing-the-transition-1" class="table-of-contents__link">Testing the Transition.</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2020 Christopher Whitley.<br> Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.577f1152.js"></script>
<script src="/runtime~main.179566da.js"></script>
<script src="/main.b5047bcd.js"></script>
<script src="/1.b02d9b13.js"></script>
<script src="/46.a8e0b125.js"></script>
<script src="/47.4c883408.js"></script>
<script src="/f976f453.bf96ee48.js"></script>
<script src="/45.09bf6d6b.js"></script>
<script src="/cb69ef81.2cf57e78.js"></script>
</body>
</html>