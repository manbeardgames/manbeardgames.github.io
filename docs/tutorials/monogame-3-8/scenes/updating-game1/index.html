<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-63802407-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-63802407-1",{})</script><title data-react-helmet="true">Scenes: Updating Game1 | ManBeardGames</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Scenes: Updating Game1 | ManBeardGames"><meta data-react-helmet="true" name="description" content="A tutorial on creating scenes in a MonoGame project."><meta data-react-helmet="true" property="og:description" content="A tutorial on creating scenes in a MonoGame project."><meta data-react-helmet="true" name="keywords" content="monogame tutorial,monogame framework,monogame,tutorial,scene transition,scene,scenes"><meta data-react-helmet="true" property="og:image" content="https://manbeardgames.com/img/mgb_cookie.svg"><meta data-react-helmet="true" property="twitter:image" content="https://manbeardgames.com/img/mgb_cookie.svg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Scenes: Updating Game1"><meta data-react-helmet="true" property="og:url" content="https://manbeardgames.com/docs/tutorials/monogame-3-8/scenes/updating-game1"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://manbeardgames.com/docs/tutorials/monogame-3-8/scenes/updating-game1"><link rel="stylesheet" href="/styles.50dc20de.css">
<link rel="stylesheet" href="/main.b32aa4c7.css">
<link rel="preload" href="/styles.577f1152.js" as="script">
<link rel="preload" href="/runtime~main.e0e81c5d.js" as="script">
<link rel="preload" href="/main.762a24f1.js" as="script">
<link rel="preload" href="/1.a3848f91.js" as="script">
<link rel="preload" href="/46.2b3dc60c.js" as="script">
<link rel="preload" href="/47.e426e2bc.js" as="script">
<link rel="preload" href="/f976f453.bf96ee48.js" as="script">
<link rel="preload" href="/45.13170169.js" as="script">
<link rel="preload" href="/97e7df79.3caa077c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ManBeardGames</strong></a><a class="navbar__item navbar__link" href="/games/">Games</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/blog">Dev Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Twitter Profile"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ManBeardGames</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/games/">Games</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/tutorials/">Tutorials</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Dev Blog</a></li><li class="menu__list-item"><a href="https://github.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub Repository"></a></li><li class="menu__list-item"><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Twitter Profile"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">MonoGame 3.8 Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Scenes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scenes/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scenes/what-is-a-scene">What is a Scene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scenes/scene-class">The Scene Class</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/tutorials/monogame-3-8/scenes/updating-game1">Updating Game1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scenes/testing-our-setup">Testing Our Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scenes/conclusion">Conclusion</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Scene Transitions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/rendertarget-overview">RenderTarget2D Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/updating-scene-class">Updating the Scene Class</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/transition-class">The Transition Class</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/updating-game1">Updating Game1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/fade-transition">The Fade Transition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/even-odd-transition">The EvenOddTransition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scene-transitions/conclusion">Conclusion</a></li></ul></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="updating-game1"></a>Updating Game1<a class="hash-link" href="#updating-game1" title="Direct link to heading">#</a></h1><p>Now that we have the <code>Scene</code> class completed, we need to up <code>Game1</code> so it can properly handle scenes.  The following is a list of things that will need to be handled</p><ul><li>Keeping track of what scene is currently the active scene and which scene, if any, is the next scene.</li><li>Updating the active scene.</li><li>Drawing the active scene.</li><li>Ability to change from one scene to another.</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>In the next sections, we&#x27;ll go over implementing each of the above points into our <code>Game1</code> class. So open up <strong>Game1.cs</strong> class file in your project and let&#x27;s dive in.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="tracking-active-and-next-scene"></a>Tracking Active and Next Scene<a class="hash-link" href="#tracking-active-and-next-scene" title="Direct link to heading">#</a></h3><p>We can make use of two instance field to keep track of which scene is the <strong>active</strong> scene and, when we need to change scenes, which is the <strong>next</strong> scene to switch to.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>Add the following fields to <code>Game1</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">//  The current scene that is active.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private Scene _activeScene;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">//  The next scene to switch to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private Scene _nextScene;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><p>Anytime we need to update, draw, or reference the current active scene for any reason, we&#x27;ll use the <code>_activeScene</code> field.  The <code>_nextScene</code> field will be used to store a reference to the next scene to switch to whenever we need to switch scenes. This field should only hold a value when there is a scene to switch to. Once the switch has occurred, it will be set to <code>null</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="updating-the-active-scene"></a>Updating the Active Scene<a class="hash-link" href="#updating-the-active-scene" title="Direct link to heading">#</a></h3><p>Next, we need to ensure that we are updating the active scene.  </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>Find the <code>Update(GameTime)</code> method in <code>Game1</code> class and change it to the following</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If there is an active scene, update it.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.Update(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    base.Update(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><p>So far, the <code>Update(GameTime)</code> logic is pretty simple.  It checks if there is a current active scene, and if so, updates it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="drawing-the-active-scene"></a>Drawing the Active Scene<a class="hash-link" href="#drawing-the-active-scene" title="Direct link to heading">#</a></h3><p>Next, we need to ensure that we are drawing the active scene to the screen.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>Find the <code>Draw(SpriteBatch, GameTime)</code> method in the <code>Game1</code> class and change it to the following</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Draw(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If there is an active scene, draw it.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.BeforeDraw(_spriteBatch, Color.Black);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.Draw(_spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.AfterDraw(_spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    base.Draw(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><p>This will handle calling <code>BeforeDraw(SpriteBatch, Color)</code>, <code>Draw(SpriteBatch)</code>, and <code>AfterDraw(SpriteBatch)</code>, in that order, for the active scene.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The default Game1 class clears the backbuffer using good old <code>Color.CornflowerBlue</code> by default. Here, I&#x27;m passing instead <code>Color.Black</code> as the color to clear the backbuffer with.  You can use whatever color you&#x27;d like.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="changing-scenes"></a>Changing Scenes<a class="hash-link" href="#changing-scenes" title="Direct link to heading">#</a></h3><p>To change scenes, we&#x27;re going to first create a method to handle setting what the next scene should be. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>Add the following method to the <code>Game1</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Sets the next scene to switch to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;next&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The Scene instance to switch to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void ChangeScene(Scene next)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Only set the _nextScene value if it is not the</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  same instance as the _activeScene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_activeScene != next)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _nextScene = next;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><p>As far as things go, this is pretty simple.  It detects if the scene we are switching to is the same instance as the current active scene. Only if they are different instances will if set the value of <code>_nextScene</code></p><p>Next we need to add an additional method to handle the actual transitioning from one scene to the next. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>Add the following method to the <code>Game1</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles transitioning gracefully from one scene to</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     the next.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void TransitionScene()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.UnloadContent();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Perform a garbage collection to ensure memory is cleared</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GC.Collect();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Set the active scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _activeScene = _nextScene;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Null the next scene value</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _nextScene = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If the active scene isn&#x27;t null, initialize it.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Remember, the Initialize method also calls the LoadContent method</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if(_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.Initialize();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><p>A few things are happening here. First, if <code>_activeScene</code> isn&#x27;t <code>null</code>, we tell it to unload all content managed by that scene by calling the <code>Unload()</code> method. We no longer need it, so free up the memory.  Next, we perform a manual garbage collection to ensure the memory is freed up.  Then we set the <code>_activeScene</code> to the <code>_nextScene</code>, and, if it isn&#x27;t <code>null</code>, we call the <code>Initialize</code> method.</p><p>Finally, we need to do one last change in the Game1 <code>Update(GameTime)</code> method.  </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>Go back to the <code>Update(GameTime)</code> method and update it to the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected override void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If there is a next scene waiting to be switched to</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  transition to that scene.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_nextScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        TransitionScene();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If there is an active scene, update it.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_activeScene != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _activeScene.Update(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    base.Update(gameTime);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><p>With this change, we detect first if there is a next scene to switch to, and if so, we perform the scene transitions. Now you may be asking, <em>why do we need to transition scene here? Why didn&#x27;t we just perform the transition inside the <code>ChangeScene(Scene)</code> method all at once?</em></p><p>Well, we could have, absolutely. However, remember when we end one scene, we unload all of the content managed by the scene. Also, most likely, the call to <code>ChangeScene(Scene)</code> will be performed from within a scene itself.  So by telling our game which scene to switch to, and then performing the actual transition during the next update frame, we can be sure no issues occur with any references to the current scene&#x27;s properties, objects, etc.</p><p>(actually, I&#x27;m probably talking out of my ass with that last paragraph, but this is generally the structure used.)</p><p>On the next page, we&#x27;re going to test our setup.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-12-22T11:23:43.000Z" class="docLastUpdatedAt_217_">12/22/2020</time> by <strong>Christopher Whitley</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tutorials/monogame-3-8/scenes/scene-class"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Scenes: The Scene Class</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials/monogame-3-8/scenes/testing-our-setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scenes: Testing Our Setup Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tracking-active-and-next-scene" class="table-of-contents__link">Tracking Active and Next Scene</a></li><li><a href="#updating-the-active-scene" class="table-of-contents__link">Updating the Active Scene</a></li><li><a href="#drawing-the-active-scene" class="table-of-contents__link">Drawing the Active Scene</a></li><li><a href="#changing-scenes" class="table-of-contents__link">Changing Scenes</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2020 Christopher Whitley.<br> Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.577f1152.js"></script>
<script src="/runtime~main.e0e81c5d.js"></script>
<script src="/main.762a24f1.js"></script>
<script src="/1.a3848f91.js"></script>
<script src="/46.2b3dc60c.js"></script>
<script src="/47.e426e2bc.js"></script>
<script src="/f976f453.bf96ee48.js"></script>
<script src="/45.13170169.js"></script>
<script src="/97e7df79.3caa077c.js"></script>
</body>
</html>