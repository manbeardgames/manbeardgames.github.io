<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-63802407-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-63802407-1",{})</script><title data-react-helmet="true">Scene Transitions: The Transition Class | ManBeardGames</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Scene Transitions: The Transition Class | ManBeardGames"><meta data-react-helmet="true" name="description" content="A tutorial on creating scene transition effects in a MonoGame project."><meta data-react-helmet="true" property="og:description" content="A tutorial on creating scene transition effects in a MonoGame project."><meta data-react-helmet="true" name="keywords" content="monogame tutorial,monogame framework,monogame,tutorial,scene transition,scene,scenes"><meta data-react-helmet="true" property="og:image" content="https://manbeardgames.com/img/mgb_cookie.svg"><meta data-react-helmet="true" property="twitter:image" content="https://manbeardgames.com/img/mgb_cookie.svg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Scene Transitions: The Transition Class"><meta data-react-helmet="true" property="og:url" content="https://manbeardgames.com/docs/tutorials/monogame-3-8/scene-transitions/transition-class"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://manbeardgames.com/docs/tutorials/monogame-3-8/scene-transitions/transition-class"><link rel="stylesheet" href="/styles.50dc20de.css">
<link rel="stylesheet" href="/main.a1eb2770.css">
<link rel="preload" href="/styles.5ef315eb.js" as="script">
<link rel="preload" href="/runtime~main.2afb502e.js" as="script">
<link rel="preload" href="/main.01071bd9.js" as="script">
<link rel="preload" href="/1.722e261e.js" as="script">
<link rel="preload" href="/45.883e6ce8.js" as="script">
<link rel="preload" href="/46.11772487.js" as="script">
<link rel="preload" href="/f976f453.4ffcf05d.js" as="script">
<link rel="preload" href="/44.0abd9647.js" as="script">
<link rel="preload" href="/8b43a061.5a4c32d0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ManBeardGames</strong></a><a class="navbar__item navbar__link" href="/games/">Games</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/blog">Dev Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="Twitter Profile"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/mbg_cookie.svg" alt="ManBeardGames Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ManBeardGames</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/games/">Games</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/tutorials/">Tutorials</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Dev Blog</a></li><li class="menu__list-item"><a href="https://github.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub Repository"></a></li><li class="menu__list-item"><a href="https://twitter.com/manbeardgames" target="_blank" rel="noopener noreferrer" class="menu__link header-twitter-link" aria-label="Twitter Profile"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">MonoGame 3.8 Tutorials</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Scenes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scenes/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scenes/what-is-a-scene">What is a Scene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scenes/scene-class">The Scene Class</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scenes/updating-game1">Updating Game1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scenes/testing-our-setup">Testing Our Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/monogame-3-8/scenes/conclusion">Conclusion</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Scene Transitions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/rendertarget-overview">RenderTarget2D Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/updating-scene-class">Updating the Scene Class</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/transition-class">The Transition Class</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/updating-game1">Updating Game1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/fade-transition">The Fade Transition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/even-odd-transition">The EvenOddTransition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/monogame-3-8/scene-transitions/conclusion">Conclusion</a></li></ul></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-transition-class"></a>The Transition Class<a class="hash-link" href="#the-transition-class" title="Direct link to heading">#</a></h1><p>Now that we have updated our <code>Scene</code> class, the next thing we need to do is create the <code>Transition</code> class.  A transition, like a scene, is an abstract concept that is implemented by the different types of transitions, such as fade, swipes, etc.  So before we get to the code of the <code>Transition</code> class, let&#x27;s first define what we&#x27;ll need.</p><ul><li>A way of specifying if the transition is <strong>in</strong> or <strong>out</strong> (i.e. fade in vs fade out).</li><li>A render target to draw the transition too.</li><li>Handling graphics create/reset for the render target.</li><li>Disposal of the render target</li><li>A reference to render target of the scene we are transitioning.</li><li>Way of tracking how long the transition should take and the amount of time the amount of time that has elapsed.</li><li>A way of telling the transition when to start.</li><li>A way of knowing exactly when the transition has ended so we can handle anything in code</li></ul><p>Now that we have defined what we&#x27;ll need, let&#x27;s take a look at the code.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-code"></a>The Code<a class="hash-link" href="#the-code" title="Direct link to heading">#</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Perform the Following</h5></div><div class="admonition-content"><p>In your project, create a new class file called <strong>Transition.cs</strong> and add the code below to the file.  In the sections of this page after the code, we&#x27;ll go over each of the aspects of the class file and what it is all doing.</p><p><strong>using statements</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using Microsoft.Xna.Framework.Graphics;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">using System;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><strong>Transition class</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Base class for all transition instances.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public abstract class Transition : IDisposable</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public enum TransitionKind</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        In,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Out</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected bool _disposed;   //  Indicates if this instance has been disposed of.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected Game1 _game;   //  Cached reference to our game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets a value indicating if this transition is currently transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public bool IsTransitioning { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets a value indicating the type of transition this is</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public TransitionKind Kind { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets the total amount of time required for this transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public TimeSpan TransitionTime { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets the total amount of time remaining for the transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public TimeSpan TransitionTimeRemaining { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets a cached reference to the RenderTarget2D instance used by the Scene</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     this transition is transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public RenderTarget2D SourceTexture { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Gets the RenderTarget2D instance this transition renders to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public RenderTarget2D RenderTarget { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Event triggered when the transition has fully completed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public event EventHandler TransitionCompleted;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Creates a new Transition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public Transition(Game1 game, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game = game;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        TransitionTimeRemaining = TransitionTime = transitionTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Kind = kind;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Starts the transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;sourceTexture&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A reference to the RenderTarget2D instance of the scene being transitioned.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public virtual void Start(RenderTarget2D sourceTexture)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        SourceTexture = sourceTexture;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        IsTransitioning = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Updates this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;gameTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A snapshot of the timing values provided by the MonoGame Framework.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public virtual void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        TransitionTimeRemaining -= gameTime.ElapsedGameTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (TransitionTimeRemaining &lt;= TimeSpan.Zero)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            IsTransitioning = false;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            if (TransitionCompleted != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                TransitionCompleted(this, EventArgs.Empty);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Draws the Transition to its render target.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void Draw(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        BeginRender(spriteBatch, clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Render(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        EndRender(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Prepares this transition for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private void BeginRender(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Prepare the graphics device.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.SetRenderTarget(RenderTarget);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.Viewport = new Viewport(RenderTarget.Bounds);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.Clear(clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  Begin the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        spriteBatch.Begin(blendState: BlendState.AlphaBlend,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                            samplerState: SamplerState.PointClamp);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected virtual void Render(SpriteBatch spriteBatch) { }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Ends the rendering for this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private void EndRender(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  End the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        spriteBatch.End();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _game.GraphicsDevice.SetRenderTarget(null);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     When the graphics device is created, no contents are in VRAM, so we need</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     to ensure that the RenderTarget is created.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void HandleGraphicsCreated()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     When the graphics device is reset, all contents of VRAM are discarded. When</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     this happens, we need to create things like RenderTarget instances.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void HandleGraphicsReset()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Creates a new RenderTarget instance for this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    private void CreateRenderTarget()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        int width = _game.GraphicsDevice.PresentationParameters.BackBufferWidth;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        int height = _game.GraphicsDevice.PresentationParameters.BackBufferHeight;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  If the RenderTarget instance has already been created previously but has yet</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        //  to be disposed of properly, dispose of the instance before setting a new one.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (RenderTarget != null &amp;&amp; !RenderTarget.IsDisposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        RenderTarget = new RenderTarget2D(_game.GraphicsDevice, width, height);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     For more information on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    public void Dispose()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        Dispose(true);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        GC.SuppressFinalize(this);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;param name=&quot;isDisposing&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     A value indicating if resources should be disposed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     For more information on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    protected virtual void Dispose(bool isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (_disposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            return;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            if (RenderTarget != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                RenderTarget = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _disposed = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="idisposable"></a>IDisposable<a class="hash-link" href="#idisposable" title="Direct link to heading">#</a></h3><p>The first thing to pay attention to in the code is that we are using the <code>IDisposable</code> interface.  </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">public abstract class Transition : IDisposable</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This means we have a Dispose method that we can call manually, or can be called by the garbage collector automatically when there is no reference to a <code>Transition</code> object instance. By having this, we can ensure that resources are cleaned up, like the render target.</p><p>The implementation here for the <code>IDisposable</code> interface is pretty simple.  First we have the following field</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected bool _disposed;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This field indicates if the transition instance has already been disposed of.</p><p>Next we have the <code>Dispose()</code> and <code>Dispose(bool)</code> methods.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     For more information on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void Dispose()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Dispose(true);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    GC.SuppressFinalize(this);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Handles the disposing of resources used by this instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;isDisposing&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A value indicating if resources should be disposed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     For more information on using Dispose and the IDisposable interface</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     https://docs.microsoft.com/en-us/dotnet/standard/garbage-collection/implementing-dispose</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/remarks&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected virtual void Dispose(bool isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (_disposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        return;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (isDisposing)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (RenderTarget != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            RenderTarget = null;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _disposed = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The first <code>Dispose()</code> method is the public one. This is the one that we can call when we need to dispose of the instance, or is called by the garbage collector.  The second <code>Dispose(bool)</code> is where the disposal occurs.  Here, we check if we have already disposed, and if so we just return back.  If not, we then check the value of <code>_isDisposing</code>, and if <code>true</code>, we dispose of the render target gracefully.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="transitionkind-enum"></a>TransitionKind Enum<a class="hash-link" href="#transitionkind-enum" title="Direct link to heading">#</a></h3><p>Next, we said before that we needed a way of indicating if we were transitioning <strong>in</strong> or <strong>out</strong>. This is what the <code>TransitionKind</code> enum is for.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Defines a value that indicates the kind of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public enum TransitionKind</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Indicates a transition in.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    In,</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    ///     Indicates a transition out.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    /// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Out</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>As far as things go, this is pretty simple.  It defines a value for us that indicates if a transition is transitioning <em>in</em> or <em>out</em>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="fields"></a>Fields<a class="hash-link" href="#fields" title="Direct link to heading">#</a></h3><p>Our <code>Transition</code> class only has two fields.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">protected bool _disposed;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected Game1 _game; </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We talked previously about the <code>_disposed</code> field in the IDisposable section.  The <code>_game</code> field is to store a cached reference to the <code>Game1</code> instance, just like we did in the Scene class.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="properties"></a>Properties<a class="hash-link" href="#properties" title="Direct link to heading">#</a></h3><p>The following are the properties of our <code>Transition</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets a value indicating if this transition is currently transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public bool IsTransitioning { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets a value indicating the type of transition this is</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public TransitionKind Kind { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the total amount of time required for this transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public TimeSpan TransitionTime { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the total amount of time remaining for the transition to complete.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public TimeSpan TransitionTimeRemaining { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets a cached reference to the RenderTarget2D instance used by the Scene</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     this transition is transitioning.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public RenderTarget2D SourceTexture { get; private set; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Gets the RenderTarget2D instance this transition renders to.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public RenderTarget2D RenderTarget { get; private set; }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>These should all be pretty self explanatory.  </p><p><code>IsTransitioning</code> is a value we can set to indicate if the transition has started and is currently in the middle of transitioning.  </p><p><code>Kind</code> indicates what <code>TransitionKind</code> this transition is doing.</p><p><code>TransitionTime</code> is a TimeSpan that indicates the total amount of time the transition should take before it is completed.</p><p><code>TransitionTimeRemaining</code> is a TimeSpan we use as a countdown to indicate how much time left for the transition to complete.</p><p><code>SourceTexture</code> is a reference to the render target of the scene that this transition is transitioning.  We&#x27;ll manipulate this render target when we draw the transition to create the transition effect.</p><p><code>RenderTarget</code> is the render target that we draw the transition too.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="events"></a>Events<a class="hash-link" href="#events" title="Direct link to heading">#</a></h3><p>There is only one event in the <code>Transition</code> class.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Event triggered when the transition has fully completed.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public event EventHandler TransitionCompleted;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We will invoke this event when a transition has completed. Anything subscribed to this event can safely assume that the transition is done and it can move on.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="constructor"></a>Constructor<a class="hash-link" href="#constructor" title="Direct link to heading">#</a></h3><p>Next, let&#x27;s take a look at the constructor</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Creates a new Transition instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;game&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to our Game instance.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;transitionTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The total amount of time the transition will take.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;kind&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The type of transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public Transition(Game1 game, TimeSpan transitionTime, TransitionKind kind)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game = game;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    TransitionTimeRemaining = TransitionTime = transitionTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Kind = kind;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When creating a new <code>Transition</code> instance, this is the constructor that is called.  It requires a reference to <code>Game1</code>, a <code>TimeSpan</code> indicating how long the transition will take, and a <code>TransitionKind</code> value to indicate if this transition is going <em>in</em> or *out.</p><p>After caching these values, we create the RenderTarget for the transition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="startrendertarget"></a>Start(RenderTarget)<a class="hash-link" href="#startrendertarget" title="Direct link to heading">#</a></h3><p>The <code>Start(RenderTarget)</code> method is used to start the transition.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Starts the transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;sourceTexture&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A reference to the RenderTarget2D instance of the scene being transitioned.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void Start(RenderTarget2D sourceTexture)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SourceTexture = sourceTexture;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    IsTransitioning = true;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When <code>Start</code> is called, we have to pass to it the render target instance of the scene that is being transitioned.  We simply just cache the reference to the render target, then set the <code>IsTransitioning</code> property to <code>true</code> to indicate the the transition has started.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="updategametime"></a>Update(GameTime)<a class="hash-link" href="#updategametime" title="Direct link to heading">#</a></h3><p>Next is the <code>Update(GameTime)</code> method.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Updates this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;gameTime&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     A snapshot of the timing values provided by the MonoGame Framework.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public virtual void Update(GameTime gameTime)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    TransitionTimeRemaining -= gameTime.ElapsedGameTime;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (TransitionTimeRemaining &lt;= TimeSpan.Zero)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        IsTransitioning = false;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        if (TransitionCompleted != null)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            TransitionCompleted(this, EventArgs.Empty);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This is a pretty simple update method all things considered.  We subtract the amount of time that has elapsed from the <code>TransitionTimeRemaining</code>.  We then check if the <code>TransitionTimeRemaining</code> has reached or gone below zero.  If it has, we set <code>IsTransitioning</code> to false and trigger the <code>TransitionCompeted</code> event.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="beforerenderspritebatch-color"></a>BeforeRender(SpriteBatch, Color)<a class="hash-link" href="#beforerenderspritebatch-color" title="Direct link to heading">#</a></h3><p>The <code>BeforeRender(SpriteBatch, Color)</code> method will handle setting up the graphics device and the spritebatch to for rendering our transition.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Prepares this transition for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void BeginRender(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Prepare the graphics device.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.SetRenderTarget(RenderTarget);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.Clear(clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  Begin the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    spriteBatch.Begin(blendState: BlendState.AlphaBlend,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                        samplerState: SamplerState.PointClamp);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Here we setting the <code>GraphicsDevice</code> render target to use the transition&#x27;s render target.  Then we clear the backbuffer using the color provided.  After that we tell the <code>SpriteBatch</code> instance to begin.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="renderspritebatch"></a>Render(SpriteBatch)<a class="hash-link" href="#renderspritebatch" title="Direct link to heading">#</a></h3><p>Next is the <code>Render(SpriteBatch)</code> method.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Renders this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">protected virtual void Render(SpriteBatch spriteBatch) { }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In this base <code>Transition</code> class, we don&#x27;t do anything here. Instead it will be up to the class that inherits from <code>Transition</code> to implement how to render the transition.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="endrenderspritebatch"></a>EndRender(SpriteBatch)<a class="hash-link" href="#endrenderspritebatch" title="Direct link to heading">#</a></h3><p>The <code>EndRender(SpriteBatch)</code> method handles gracefully ending rendering of our transition.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Ends the rendering for this transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void EndRender(SpriteBatch spriteBatch)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  End the sprite batch.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    spriteBatch.End();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    _game.GraphicsDevice.SetRenderTarget(null);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>It does this by simply ending the spritebatch and then setting the render target of the graphics device to null.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="drawspritebatch-color"></a>Draw(SpriteBatch, Color)<a class="hash-link" href="#drawspritebatch-color" title="Direct link to heading">#</a></h3><p>This is where all of the above rendering methods get called.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Draws the Transition to its render target.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;spriteBatch&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The SpriteBatch instance used for rendering.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;clearColor&quot;&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     The color value to use when clearing the backbuffer.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/param&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void Draw(SpriteBatch spriteBatch, Color clearColor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    BeginRender(spriteBatch, clearColor);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Render(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    EndRender(spriteBatch);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>We pass in the <code>SpriteBatch</code> instance used for drawing and a <code>Color</code> to clear the backbuffer with, then call the <code>BeginRender(SpriteBatch, Color)</code>, <code>Render(SpriteBatch)</code>, and <code>EndRender(SpriteBatch)</code> methods in that order.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handlegraphicscreated"></a>HandleGraphicsCreated()<a class="hash-link" href="#handlegraphicscreated" title="Direct link to heading">#</a></h3><p>Just like in our <code>Scene</code> class, we have a <code>HandleGraphicsCreated()</code> method that can be called whenever the graphics device is created.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     When the graphics device is created, no contents are in VRAM, so we need</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     to ensure that the RenderTarget is created.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void HandleGraphicsCreated()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When this happens, we tell the transition instance to create its render target.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handlegraphicsreset"></a>HandleGraphicsReset()<a class="hash-link" href="#handlegraphicsreset" title="Direct link to heading">#</a></h3><p>Again, just like in our <code>Scene</code> class, we have a <code>HandleGraphicsReset()</code> method that can be called whenever the graphics device is reset</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     When the graphics device is reset, all contents of VRAM are discarded. When</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     this happens, we need to create things like RenderTarget instances.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">public void HandleGraphicsReset()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    CreateRenderTarget();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>When this happens, we tell the transition instance to create its render target.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="createrendertarget"></a>CreateRenderTarget()<a class="hash-link" href="#createrendertarget" title="Direct link to heading">#</a></h3><p>Finally, we have the <code>CreateRenderTarget()</code> method.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-csharp codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">///     Creates a new RenderTarget instance for this Transition.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">private void CreateRenderTarget()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    int width = _game.GraphicsDevice.PresentationParameters.BackBufferWidth;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    int height = _game.GraphicsDevice.PresentationParameters.BackBufferHeight;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  If the RenderTarget instance has already been created previously but has yet</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //  to be disposed of properly, dispose of the instance before setting a new one.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if (RenderTarget != null &amp;&amp; !RenderTarget.IsDisposed)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        RenderTarget.Dispose();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    RenderTarget = new RenderTarget2D(_game.GraphicsDevice, width, height);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Just like with the <code>Scene</code> class, we first check if the render target needs to be disposed of, and if so, we dispose it. Then we create the instance.</p><p>Now tha we have our base <code>Transition</code> class, on the next page, we&#x27;ll update the <code>Game1</code> class to use the transitions.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-12-22T11:23:43.000Z" class="docLastUpdatedAt_217_">12/22/2020</time> by <strong>Christopher Whitley</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tutorials/monogame-3-8/scene-transitions/updating-scene-class"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Scene Transitions: Updating The Scene Class</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials/monogame-3-8/scene-transitions/updating-game1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scene Transitions: Updating Game1 Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-code" class="table-of-contents__link">The Code</a></li><li><a href="#idisposable" class="table-of-contents__link">IDisposable</a></li><li><a href="#transitionkind-enum" class="table-of-contents__link">TransitionKind Enum</a></li><li><a href="#fields" class="table-of-contents__link">Fields</a></li><li><a href="#properties" class="table-of-contents__link">Properties</a></li><li><a href="#events" class="table-of-contents__link">Events</a></li><li><a href="#constructor" class="table-of-contents__link">Constructor</a></li><li><a href="#startrendertarget" class="table-of-contents__link">Start(RenderTarget)</a></li><li><a href="#updategametime" class="table-of-contents__link">Update(GameTime)</a></li><li><a href="#beforerenderspritebatch-color" class="table-of-contents__link">BeforeRender(SpriteBatch, Color)</a></li><li><a href="#renderspritebatch" class="table-of-contents__link">Render(SpriteBatch)</a></li><li><a href="#endrenderspritebatch" class="table-of-contents__link">EndRender(SpriteBatch)</a></li><li><a href="#drawspritebatch-color" class="table-of-contents__link">Draw(SpriteBatch, Color)</a></li><li><a href="#handlegraphicscreated" class="table-of-contents__link">HandleGraphicsCreated()</a></li><li><a href="#handlegraphicsreset" class="table-of-contents__link">HandleGraphicsReset()</a></li><li><a href="#createrendertarget" class="table-of-contents__link">CreateRenderTarget()</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2020 Christopher Whitley.<br> Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.5ef315eb.js"></script>
<script src="/runtime~main.2afb502e.js"></script>
<script src="/main.01071bd9.js"></script>
<script src="/1.722e261e.js"></script>
<script src="/45.883e6ce8.js"></script>
<script src="/46.11772487.js"></script>
<script src="/f976f453.4ffcf05d.js"></script>
<script src="/44.0abd9647.js"></script>
<script src="/8b43a061.5a4c32d0.js"></script>
</body>
</html>